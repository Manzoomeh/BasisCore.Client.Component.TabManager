/*! For license information please see basiscore.min.js.LICENSE.txt */
(()=>{var __webpack_modules__={465:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Boolean]",c="[object Date]",a="[object Function]",u="[object GeneratorFunction]",l="[object Map]",f="[object Number]",d="[object Object]",h="[object Promise]",p="[object RegExp]",y="[object Set]",_="[object String]",v="[object Symbol]",g="[object WeakMap]",m="[object ArrayBuffer]",b="[object DataView]",w="[object Float32Array]",A="[object Float64Array]",x="[object Int8Array]",O="[object Int16Array]",T="[object Int32Array]",E="[object Uint8Array]",k="[object Uint8ClampedArray]",R="[object Uint16Array]",C="[object Uint32Array]",j=/\w*$/,P=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,D={};D[i]=D["[object Array]"]=D[m]=D[b]=D[s]=D[c]=D[w]=D[A]=D[x]=D[O]=D[T]=D[l]=D[f]=D[d]=D[p]=D[y]=D[_]=D[v]=D[E]=D[k]=D[R]=D[C]=!0,D["[object Error]"]=D[a]=D[g]=!1;var L="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,M="object"==typeof self&&self&&self.Object===Object&&self,N=L||M||Function("return this")(),V=t&&!t.nodeType&&t,I=V&&e&&!e.nodeType&&e,$=I&&I.exports===V;function q(e,t){return e.set(t[0],t[1]),e}function F(e,t){return e.add(t),e}function Z(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function U(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function B(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function K(e,t){return function(n){return e(t(n))}}function W(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var H,G=Array.prototype,z=Function.prototype,X=Object.prototype,J=N["__core-js_shared__"],Q=(H=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+H:"",Y=z.toString,ee=X.hasOwnProperty,te=X.toString,ne=RegExp("^"+Y.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),re=$?N.Buffer:void 0,oe=N.Symbol,ie=N.Uint8Array,se=K(Object.getPrototypeOf,Object),ce=Object.create,ae=X.propertyIsEnumerable,ue=G.splice,le=Object.getOwnPropertySymbols,fe=re?re.isBuffer:void 0,de=K(Object.keys,Object),he=Ne(N,"DataView"),pe=Ne(N,"Map"),ye=Ne(N,"Promise"),_e=Ne(N,"Set"),ve=Ne(N,"WeakMap"),ge=Ne(Object,"create"),me=Fe(he),be=Fe(pe),we=Fe(ye),Ae=Fe(_e),xe=Fe(ve),Oe=oe?oe.prototype:void 0,Te=Oe?Oe.valueOf:void 0;function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Re(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ce(e){this.__data__=new ke(e)}function je(e,t,n){var r=e[t];ee.call(e,t)&&Ze(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Pe(e,t){for(var n=e.length;n--;)if(Ze(e[n][0],t))return n;return-1}function Se(e,t,n,r,o,h,g){var P;if(r&&(P=h?r(e,o,h,g):r(e)),void 0!==P)return P;if(!He(e))return e;var S=Ue(e);if(S){if(P=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(e,P)}else{var L=Ie(e),M=L==a||L==u;if(Ke(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(L==d||L==i||M&&!h){if(U(e))return h?e:{};if(P=function(e){return"function"!=typeof e.constructor||qe(e)?{}:He(t=se(e))?ce(t):{};var t}(M?{}:e),!t)return function(e,t){return Le(e,Ve(e),t)}(e,function(e,t){return e&&Le(t,Ge(t),e)}(P,e))}else{if(!D[L])return h?e:{};P=function(e,t,n,r){var o,i=e.constructor;switch(t){case m:return De(e);case s:case c:return new i(+e);case b:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case w:case A:case x:case O:case T:case E:case k:case R:case C:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case l:return function(e,t,n){return Z(t?n(B(e),!0):B(e),q,new e.constructor)}(e,r,n);case f:case _:return new i(e);case p:return function(e){var t=new e.constructor(e.source,j.exec(e));return t.lastIndex=e.lastIndex,t}(e);case y:return function(e,t,n){return Z(t?n(W(e),!0):W(e),F,new e.constructor)}(e,r,n);case v:return o=e,Te?Object(Te.call(o)):{}}}(e,L,Se,t)}}g||(g=new Ce);var N=g.get(e);if(N)return N;if(g.set(e,P),!S)var V=n?function(e){return function(e,t,n){var r=t(e);return Ue(e)?r:function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}(r,n(e))}(e,Ge,Ve)}(e):Ge(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n););}(V||e,(function(o,i){V&&(o=e[i=o]),je(P,i,Se(o,t,n,r,i,e,g))})),P}function De(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Le(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var s=t[o],c=r?r(n[s],e[s],s,n,e):void 0;je(n,s,void 0===c?e[s]:c)}return n}function Me(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function Ne(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!He(e)||(t=e,Q&&Q in t))&&(We(e)||U(e)?ne:P).test(Fe(e));var t}(n)?n:void 0}Ee.prototype.clear=function(){this.__data__=ge?ge(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===r?void 0:n}return ee.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:ee.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?r:t,this},ke.prototype.clear=function(){this.__data__=[]},ke.prototype.delete=function(e){var t=this.__data__,n=Pe(t,e);return!(n<0||(n==t.length-1?t.pop():ue.call(t,n,1),0))},ke.prototype.get=function(e){var t=this.__data__,n=Pe(t,e);return n<0?void 0:t[n][1]},ke.prototype.has=function(e){return Pe(this.__data__,e)>-1},ke.prototype.set=function(e,t){var n=this.__data__,r=Pe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Re.prototype.clear=function(){this.__data__={hash:new Ee,map:new(pe||ke),string:new Ee}},Re.prototype.delete=function(e){return Me(this,e).delete(e)},Re.prototype.get=function(e){return Me(this,e).get(e)},Re.prototype.has=function(e){return Me(this,e).has(e)},Re.prototype.set=function(e,t){return Me(this,e).set(e,t),this},Ce.prototype.clear=function(){this.__data__=new ke},Ce.prototype.delete=function(e){return this.__data__.delete(e)},Ce.prototype.get=function(e){return this.__data__.get(e)},Ce.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ke){var r=n.__data__;if(!pe||r.length<199)return r.push([e,t]),this;n=this.__data__=new Re(r)}return n.set(e,t),this};var Ve=le?K(le,Object):function(){return[]},Ie=function(e){return te.call(e)};function $e(e,t){return!!(t=null==t?o:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function qe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function Fe(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ze(e,t){return e===t||e!=e&&t!=t}(he&&Ie(new he(new ArrayBuffer(1)))!=b||pe&&Ie(new pe)!=l||ye&&Ie(ye.resolve())!=h||_e&&Ie(new _e)!=y||ve&&Ie(new ve)!=g)&&(Ie=function(e){var t=te.call(e),n=t==d?e.constructor:void 0,r=n?Fe(n):void 0;if(r)switch(r){case me:return b;case be:return l;case we:return h;case Ae:return y;case xe:return g}return t});var Ue=Array.isArray;function Be(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}(e.length)&&!We(e)}var Ke=fe||function(){return!1};function We(e){var t=He(e)?te.call(e):"";return t==a||t==u}function He(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ge(e){return Be(e)?function(e,t){var n=Ue(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Be(e)}(e)&&ee.call(e,"callee")&&(!ae.call(e,"callee")||te.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var s in e)!t&&!ee.call(e,s)||o&&("length"==s||$e(s,r))||n.push(s);return n}(e):function(e){if(!qe(e))return de(e);var t=[];for(var n in Object(e))ee.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Se(e,!0,!0)}},98:(e,t,n)=>{e=n.nmd(e);var r="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",s="[object Function]",c="[object Object]",a=/^\[object .+?Constructor\]$/,u=/^(?:0|[1-9]\d*)$/,l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l[i]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l[s]=l["[object Map]"]=l["[object Number]"]=l[c]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,d="object"==typeof self&&self&&self.Object===Object&&self,h=f||d||Function("return this")(),p=t&&!t.nodeType&&t,y=p&&e&&!e.nodeType&&e,_=y&&y.exports===p,v=_&&f.process,g=function(){try{return y&&y.require&&y.require("util").types||v&&v.binding&&v.binding("util")}catch(e){}}(),m=g&&g.isTypedArray;function b(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var w,A,x,O=Array.prototype,T=Function.prototype,E=Object.prototype,k=h["__core-js_shared__"],R=T.toString,C=E.hasOwnProperty,j=(w=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",P=E.toString,S=R.call(Object),D=RegExp("^"+R.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=_?h.Buffer:void 0,M=h.Symbol,N=h.Uint8Array,V=(L&&L.allocUnsafe,A=Object.getPrototypeOf,x=Object,function(e){return A(x(e))}),I=Object.create,$=E.propertyIsEnumerable,q=O.splice,F=M?M.toStringTag:void 0,Z=function(){try{var e=ue(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),U=L?L.isBuffer:void 0,B=Math.max,K=Date.now,W=ue(h,"Map"),H=ue(Object,"create"),G=function(){function e(){}return function(t){if(!we(t))return{};if(I)return I(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function J(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Q(e){var t=this.__data__=new X(e);this.size=t.size}function Y(e,t,n){(void 0!==n&&!pe(e[t],n)||void 0===n&&!(t in e))&&ne(e,t,n)}function ee(e,t,n){var r=e[t];C.call(e,t)&&pe(r,n)&&(void 0!==n||t in e)||ne(e,t,n)}function te(e,t){for(var n=e.length;n--;)if(pe(e[n][0],t))return n;return-1}function ne(e,t,n){"__proto__"==t&&Z?Z(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}z.prototype.clear=function(){this.__data__=H?H(null):{},this.size=0},z.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},z.prototype.get=function(e){var t=this.__data__;if(H){var n=t[e];return n===r?void 0:n}return C.call(t,e)?t[e]:void 0},z.prototype.has=function(e){var t=this.__data__;return H?void 0!==t[e]:C.call(t,e)},z.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=H&&void 0===t?r:t,this},X.prototype.clear=function(){this.__data__=[],this.size=0},X.prototype.delete=function(e){var t=this.__data__,n=te(t,e);return!(n<0||(n==t.length-1?t.pop():q.call(t,n,1),--this.size,0))},X.prototype.get=function(e){var t=this.__data__,n=te(t,e);return n<0?void 0:t[n][1]},X.prototype.has=function(e){return te(this.__data__,e)>-1},X.prototype.set=function(e,t){var n=this.__data__,r=te(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},J.prototype.clear=function(){this.size=0,this.__data__={hash:new z,map:new(W||X),string:new z}},J.prototype.delete=function(e){var t=ae(this,e).delete(e);return this.size-=t?1:0,t},J.prototype.get=function(e){return ae(this,e).get(e)},J.prototype.has=function(e){return ae(this,e).has(e)},J.prototype.set=function(e,t){var n=ae(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Q.prototype.clear=function(){this.__data__=new X,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var n=this.__data__;if(n instanceof X){var r=n.__data__;if(!W||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new J(r)}return n.set(e,t),this.size=n.size,this};function re(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":F&&F in Object(e)?function(e){var t=C.call(e,F),n=e[F];try{e[F]=void 0;var r=!0}catch(e){}var o=P.call(e);return r&&(t?e[F]=n:delete e[F]),o}(e):function(e){return P.call(e)}(e)}function oe(e){return Ae(e)&&re(e)==i}function ie(e,t,n,r,o){e!==t&&function(e,t,n){for(var r=-1,o=Object(e),i=n(e),s=i.length;s--;){var c=i[++r];if(!1===t(o[c],c,o))break}}(t,(function(i,s){if(o||(o=new Q),we(i))!function(e,t,n,r,o,i,s){var a=de(e,n),u=de(t,n),l=s.get(u);if(l)Y(e,n,l);else{var f,d,h,p,y,_=i?i(a,u,n+"",e,t,s):void 0,v=void 0===_;if(v){var g=_e(u),m=!g&&ge(u),b=!g&&!m&&xe(u);_=u,g||m||b?_e(a)?_=a:Ae(y=a)&&ve(y)?_=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}(a):m?(v=!1,_=function(e,t){return e.slice()}(u)):b?(v=!1,p=new(h=(f=u).buffer).constructor(h.byteLength),new N(p).set(new N(h)),d=p,_=new f.constructor(d,f.byteOffset,f.length)):_=[]:function(e){if(!Ae(e)||re(e)!=c)return!1;var t=V(e);if(null===t)return!0;var n=C.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&R.call(n)==S}(u)||ye(u)?(_=a,ye(a)?_=function(e){return function(e,t,n,r){var o=!n;n||(n={});for(var i=-1,s=t.length;++i<s;){var c=t[i],a=void 0;void 0===a&&(a=e[c]),o?ne(n,c,a):ee(n,c,a)}return n}(e,Te(e))}(a):we(a)&&!me(a)||(_=function(e){return"function"!=typeof e.constructor||fe(e)?{}:G(V(e))}(u))):v=!1}v&&(s.set(u,_),o(_,u,r,i,s),s.delete(u)),Y(e,n,_)}}(e,t,s,n,ie,r,o);else{var a=r?r(de(e,s),i,s+"",e,t,o):void 0;void 0===a&&(a=i),Y(e,s,a)}}),Te)}function se(e,t){return he(function(e,t,n){return t=B(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,i=B(r.length-t,0),s=Array(i);++o<i;)s[o]=r[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=r[o];return c[t]=n(s),b(e,this,c)}}(e,t,Re),e+"")}function ce(e,t,n,r,o,i){return we(e)&&we(t)&&(i.set(t,e),ie(e,t,void 0,ce,i),i.delete(t)),e}function ae(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function ue(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!we(e)||function(e){return!!j&&j in e}(e))&&(me(e)?D:a).test(function(e){if(null!=e){try{return R.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}(n)?n:void 0}function le(e,t){var n=typeof e;return!!(t=null==t?o:t)&&("number"==n||"symbol"!=n&&u.test(e))&&e>-1&&e%1==0&&e<t}function fe(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||E)}function de(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var he=function(e){var t=0,n=0;return function(){var r=K(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Z?function(e,t){return Z(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Re);function pe(e,t){return e===t||e!=e&&t!=t}var ye=oe(function(){return arguments}())?oe:function(e){return Ae(e)&&C.call(e,"callee")&&!$.call(e,"callee")},_e=Array.isArray;function ve(e){return null!=e&&be(e.length)&&!me(e)}var ge=U||function(){return!1};function me(e){if(!we(e))return!1;var t=re(e);return t==s||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function be(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function we(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ae(e){return null!=e&&"object"==typeof e}var xe=m?function(e){return function(t){return e(t)}}(m):function(e){return Ae(e)&&be(e.length)&&!!l[re(e)]},Oe=se((function(e){return e.push(void 0,ce),b(ke,void 0,e)}));function Te(e){return ve(e)?function(e,t){var n=_e(e),r=!n&&ye(e),o=!n&&!r&&ge(e),i=!n&&!r&&!o&&xe(e),s=n||r||o||i,c=s?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],a=c.length;for(var u in e)!t&&!C.call(e,u)||s&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||le(u,a))||c.push(u);return c}(e,!0):function(e){if(!we(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=fe(e),n=[];for(var r in e)("constructor"!=r||!t&&C.call(e,r))&&n.push(r);return n}(e)}var Ee,ke=(Ee=function(e,t,n,r){ie(e,t,n,r)},se((function(e,t){var n=-1,r=t.length,o=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(o=Ee.length>3&&"function"==typeof o?(r--,o):void 0,i&&function(e,t,n){if(!we(n))return!1;var r=typeof t;return!!("number"==r?ve(n)&&le(t,n.length):"string"==r&&t in n)&&pe(n[t],e)}(t[0],t[1],i)&&(o=r<3?void 0:o,r=1),e=Object(e);++n<r;){var s=t[n];s&&Ee(e,s,n,o)}return e})));function Re(e){return e}e.exports=Oe},660:(e,t,n)=>{var r;!function(e){!function(t){var r="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===r.Reflect?r.Reflect=e:o=i(r.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!i&&!s,a={create:i?function(){return M(Object.create(null))}:s?function(){return M({__proto__:null})}:function(){return M({})},has:c?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:c?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,i)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function i(e,t){return t}function s(e,t){return[e,t]}}():Map,d=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,h=new(l||"function"!=typeof WeakMap?function(){var e=a.create(),n=r();return function(){function e(){this._key=r()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&a.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?a.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=r()},e}();function r(){var t;do{t="@@WeakMap@@"+s()}while(a.has(e,t));return e[t]=!0,t}function o(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:a.create()})}return e[n]}function i(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):i(new Uint8Array(e),e):i(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<16;++r){var o=t[r];4!==r&&6!==r&&8!==r||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function p(e,t,n){var r=h.get(e);if(x(r)){if(!n)return;r=new f,h.set(e,r)}var o=r.get(t);if(x(o)){if(!n)return;o=new f,r.set(t,o)}return o}function y(e,t,n){if(_(e,t,n))return!0;var r=L(t);return!O(r)&&y(e,r,n)}function _(e,t,n){var r=p(t,n,!1);return!x(r)&&!!r.has(e)}function v(e,t,n){if(_(e,t,n))return g(e,t,n);var r=L(t);return O(r)?void 0:v(e,r,n)}function g(e,t,n){var r=p(t,n,!1);if(!x(r))return r.get(e)}function m(e,t,n,r){p(n,r,!0).set(e,t)}function b(e,t){var n=w(e,t),r=L(e);if(null===r)return n;var o=b(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new d,s=[],c=0,a=n;c<a.length;c++){var u=a[c];i.has(u)||(i.add(u),s.push(u))}for(var l=0,f=o;l<f.length;l++)u=f[l],i.has(u)||(i.add(u),s.push(u));return s}function w(e,t){var n=[],r=p(e,t,!1);if(x(r))return n;for(var i=function(e){var t=P(e,o);if(!C(t))throw new TypeError;var n=t.call(e);if(!T(n))throw new TypeError;return n}(r.keys()),s=0;;){var c=S(i);if(!c)return n.length=s,n;var a=c.value;try{n[s]=a}catch(e){try{D(i)}finally{throw e}}s++}}function A(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function x(e){return void 0===e}function O(e){return null===e}function T(e){return"object"==typeof e?null!==e:"function"==typeof e}function E(e,t){switch(A(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",o=P(e,r);if(void 0!==o){var i=o.call(e,n);if(T(i))throw new TypeError;return i}return function(e,t){if("string"===t){var n=e.toString;if(C(n)&&!T(o=n.call(e)))return o;if(C(r=e.valueOf)&&!T(o=r.call(e)))return o}else{var r;if(C(r=e.valueOf)&&!T(o=r.call(e)))return o;var o,i=e.toString;if(C(i)&&!T(o=i.call(e)))return o}throw new TypeError}(e,"default"===n?"number":n)}function k(e){var t=E(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function R(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function C(e){return"function"==typeof e}function j(e){return"function"==typeof e}function P(e,t){var n=e[t];if(null!=n){if(!C(n))throw new TypeError;return n}}function S(e){var t=e.next();return!t.done&&t}function D(e){var t=e.return;t&&t.call(e)}function L(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function M(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,r){if(x(n)){if(!R(e))throw new TypeError;if(!j(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!x(r)&&!O(r)){if(!j(r))throw new TypeError;t=r}}return t}(e,t)}if(!R(e))throw new TypeError;if(!T(t))throw new TypeError;if(!T(r)&&!x(r)&&!O(r))throw new TypeError;return O(r)&&(r=void 0),function(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,n,r);if(!x(i)&&!O(i)){if(!T(i))throw new TypeError;r=i}}return r}(e,t,n=k(n),r)})),e("metadata",(function(e,t){return function(n,r){if(!T(n))throw new TypeError;if(!x(r)&&!function(e){switch(A(e)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;m(e,t,n,r)}})),e("defineMetadata",(function(e,t,n,r){if(!T(n))throw new TypeError;return x(r)||(r=k(r)),m(e,t,n,r)})),e("hasMetadata",(function(e,t,n){if(!T(t))throw new TypeError;return x(n)||(n=k(n)),y(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!T(t))throw new TypeError;return x(n)||(n=k(n)),_(e,t,n)})),e("getMetadata",(function(e,t,n){if(!T(t))throw new TypeError;return x(n)||(n=k(n)),v(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!T(t))throw new TypeError;return x(n)||(n=k(n)),g(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!T(e))throw new TypeError;return x(t)||(t=k(t)),b(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!T(e))throw new TypeError;return x(t)||(t=k(t)),w(e,t)})),e("deleteMetadata",(function(e,t,n){if(!T(t))throw new TypeError;x(n)||(n=k(n));var r=p(t,n,!1);if(x(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var o=h.get(t);return o.delete(n),o.size>0||h.delete(t),!0}))}(o)}()}(r||(r={}))},884:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var r=n(195),o=n(397),i=n(737),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class c extends i.Z{constructor(e,t,n){super(e,t),this.priority=o.UL.none,this.attribute=n,this.token=this.attribute.value.ToStringToken(t),this.addTrigger(this.token.getSourceNames())}initializeAsync(){return s(this,void 0,void 0,(function*(){const e=yield this.token.getValueAsync(!1);this.setContent(null!=e?e:"")}))}renderAsync(e){return s(this,void 0,void 0,(function*(){const e=yield this.token.getValueAsync();this.setContent(e)}))}setContent(e){this.attribute.value=e}}var a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class u extends i.Z{constructor(e,t,n,r){super(e,t),this.priority=o.UL.none,this.range=document.createRange(),this.range.setStart(e,n),this.range.setEnd(e,r),this.content=this.range.extractContents(),this.token=this.content.textContent.ToStringToken(t)}initializeAsync(){return a(this,void 0,void 0,(function*(){this.addTrigger(this.token.getSourceNames());const e=yield this.token.getValueAsync(!1);this.setContent(null!=e?e:"")}))}renderAsync(e){return a(this,void 0,void 0,(function*(){const e=yield this.token.getValueAsync();this.setContent(e)}))}setContent(e){return a(this,void 0,void 0,(function*(){let t=this.range.createContextualFragment(e);this.range.deleteContents(),this.range.insertNode(t)}))}disposeAsync(){return this.range.detach(),super.disposeAsync()}}var l,f=function(e,t){return function(n,r){t(n,r,e)}},d=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};let h=l=class{constructor(e,t){this._disposed=!1,this.container=t,this.context=e,this.regex=this.context.options.getDefault("binding.regex"),this.blockRegex=this.context.options.getDefault("binding.codeblock-regex")}get disposed(){return this._disposed}get initializeTask(){return this._initializeTask}processNodesAsync(e){return d(this,void 0,void 0,(function*(){if(this.components)throw new Error("Run ComponentCollection for more than one");this.components=this.extractComponent(e),this._initializeTask=this.initializeAsync(this.components),yield this._initializeTask,yield this.runAsync(this.components)}))}initializeAsync(e){return d(this,void 0,void 0,(function*(){const t=e.map((e=>e.initializeAsync()));yield Promise.all(t)}))}runAsync(e){return d(this,void 0,void 0,(function*(){const t=e.reduce(((e,t)=>{if(t.priority!=o.UL.none){let n=e.get(t.priority);n||(n=new Array,e.set(t.priority,n)),n.push(t)}return e}),new Map);for(const e of[o.UL.high,o.UL.normal,o.UL.low]){const n=t.get(e);if(n){const e=n.map((e=>e.processAsync()));yield Promise.all(e)}}}))}extractComponent(e){const t=new Array;return e.forEach((e=>{this.extractTextBaseComponents(e,t),this.extractBasisCommands(e,t)})),t}extractBasisCommands(e,t){const n=this.findRootLevelComponentNode(e);for(const e of n.coreList){const n=e.getAttribute("core").split(".",2)[0].toLowerCase();t.push(this.createCommandComponent(e,n))}for(const e of n.tagList){const n=e.tagName.toLowerCase(),r=-1!=l.knowHtmlElement.indexOf(n)?n:"unknown-html";t.push(this.createCommandComponent(e,r))}}extractTextComponent(e,t){if(0!=e.textContent.trim().length)for(;;){let r=e.textContent.match(this.regex);if(r||(r=e.textContent.match(this.blockRegex)),!r)break;var n=new u(e,this.context,r.index,r.index+r[0].length);t.push(n)}}extractAttributeComponent(e,t){return d(this,void 0,void 0,(function*(){for(const n of e.attributes)if(0!=n.value.trim().length){let r=n.value.match(this.regex);if(r||(r=n.value.match(this.blockRegex)),r){const r=new c(e,this.context,n);t.push(r)}}}))}extractTextBaseComponents(e,t){if(e.nodeType==Node.TEXT_NODE)this.extractTextComponent(e,t);else if(e.nodeType!=Node.COMMENT_NODE)if(e instanceof Element){if(!e.isBasisCore()&&(this.extractAttributeComponent(e,t),e.hasChildNodes()))for(const n of e.childNodes)this.extractTextBaseComponents(n,t)}else if(e.hasChildNodes())for(const n of e.childNodes)this.extractTextBaseComponents(n,t)}createCommandComponent(e,t){const n=this.container.createChildContainer();return n.register("element",{useValue:e}),n.register("context",{useValue:this.context}),n.register("container",{useValue:n}),n.resolve(t)}findRootLevelComponentNode(e){const t=new Array,n=new Array;var r=e=>{if(e instanceof Element){if(e.isBasisCore())return void t.push(e);e.isBasisTag()&&n.push(e)}e.childNodes.forEach(r)};return r(e),{coreList:t,tagList:n}}disposeAsync(){var e,t;return d(this,void 0,void 0,(function*(){if(!this._disposed){this._disposed=!0;const n=null===(e=this.components)||void 0===e?void 0:e.map((e=>e.disposeAsync()));yield Promise.all(n),null===(t=this.components)||void 0===t||t.splice(0,this.components.length)}}))}};h.knowHtmlElement=["form","input","select"],h=l=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,r.b2)(),f(0,(0,r.f3)("context")),f(1,(0,r.f3)("container")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object])],h);const p=h},102:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{static HasValue(e){return void 0!==e&&null!=e}static isEqual(e,t){return(e||"").isEqual(t)}static Equal(e,t){var n=!0;if(r.HasValue(e)&&r.HasValue(t)){var o=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(t);if(o.length!=i.length)n=!1;else for(var s=0;s<o.length;s++){var c=o[s];if(e[c]!==t[c]){n=!1;break}}}else n=!1;return n}static ReplaceEx(e,t,n){return e.replace(new RegExp(t,"gi"),n)}static IsNullOrEmpty(e){return void 0===e||null==e||""===e}}},210:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(986);class o extends r.Z{constructor(e,t){super(e,t),this.core=this.node.getAttribute("core"),this.range=document.createRange(),this.range.selectNode(e),this.content=this.range.extractContents()}disposeAsync(){return this.range.detach(),super.disposeAsync()}}},737:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(397);class o{constructor(e,t){this._handlingSource=new Array,this.priority=r.UL.low,this.allowMultiProcess=!1,this._busy=!1,this._disposed=!1,this.node=e,this.context=t,this._handler=this.onTrigger.bind(this)}get disposed(){return this._disposed}get busy(){return this._busy}processAsync(){return this.onTrigger()}onTrigger(e){return t=this,n=void 0,o=function*(){if(!this._disposed&&(!this._busy||this.allowMultiProcess)){this._busy=!0;try{yield this.renderAsync(e)}finally{this._busy=!1}}},new((r=void 0)||(r=Promise))((function(e,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function c(e){try{a(o.throw(e))}catch(e){i(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,c)}a((o=o.apply(t,n||[])).next())}));var t,n,r,o}addTrigger(e){null==e||e.forEach((e=>{-1===this._handlingSource.indexOf(e)&&(this.context.addOnSourceSetHandler(e,this._handler),this._handlingSource.push(e))}))}disposeAsync(){return this._handlingSource.forEach((e=>{this.context.removeOnSourceSetHandler(e,this._handler)})),this._disposed=!0,Promise.resolve()}}},986:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(737),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class i extends r.Z{constructor(e,t){super(e,t)}get triggers(){return this._triggers}initializeAsync(){return o(this,void 0,void 0,(function*(){this.ifToken=this.getAttributeToken("if");const e=yield this.getAttributeValueAsync("OnRendering");e&&(this.onRenderingAsync=new Function("callbackArgument",`return ${e}(callbackArgument);`));const t=yield this.getAttributeValueAsync("OnRendered");t&&(this.onRenderedAsync=new Function("callbackArgument",`return ${t}(callbackArgument);`));const n=yield this.getAttributeValueAsync("OnProcessing");n&&(this.onProcessingAsync=new Function("callbackArgument",`return ${n}(callbackArgument);`));const r=yield this.getAttributeValueAsync("OnProcessed");r&&(this.onProcessedAsync=new Function("callbackArgument",`return ${r}(callbackArgument);`));const o=yield this.getAttributeValueAsync("triggers");this._triggers=null==o?void 0:o.split(" "),this.addTrigger(this._triggers)}))}getIfValueAsync(){var e;return o(this,void 0,void 0,(function*(){const t=yield null===(e=this.ifToken)||void 0===e?void 0:e.getValueAsync();let n=!0;return null!=t&&null!=t&&(n=new Function(`try{return ${t};}catch{return false;}`)()),n}))}renderAsync(e){return o(this,void 0,void 0,(function*(){let t=yield this.getIfValueAsync();if(t&&this.onRenderingAsync){const n=this.createCallbackArgument({prevent:!1,source:e});yield this.onRenderingAsync(n),t=!n.prevent}let n=null;t&&(n=yield this.runAsync(e),null!==n&&this.onRenderedAsync&&(yield this.onRenderedAsync(this.createCallbackArgument({result:n,source:e}))))}))}getAttributeValueAsync(e,t=null){var n;return o(this,void 0,void 0,(function*(){const r=this.getAttributeToken(e);return null!==(n=yield null==r?void 0:r.getValueAsync())&&void 0!==n?n:t}))}getAttributeBooleanValueAsync(e,t=!1){var n;return o(this,void 0,void 0,(function*(){const r=this.node.GetBooleanToken(e,this.context);return null!==(n=yield null==r?void 0:r.getValueAsync())&&void 0!==n?n:t}))}getAttributeToken(e){return this.node.GetStringToken(e,this.context)}createCallbackArgument(e){return Object.assign({context:this.context,node:this.node},e)}}},26:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tsyringe__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(195),_ComponentCollection__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(884),_CommandComponent__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(210),_context_LocalRootContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(523),lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(98),lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_4__),__decorate=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=function(e,t){return function(n,r){t(n,r,e)}},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};let GroupComponent=class GroupComponent extends _CommandComponent__WEBPACK_IMPORTED_MODULE_2__.Z{constructor(e,t,n){super(e,t),this.container=n;const r=document.createDocumentFragment();this.childNodes=[...e.childNodes],this.childNodes.forEach((e=>r.appendChild(e))),this.range.insertNode(r)}runAsync(){var _a;return __awaiter(this,void 0,void 0,(function*(){null===(_a=this.oldLocalContext)||void 0===_a||_a.dispose(),this.currentDC=this.container.createChildContainer(),this.currentDC.register("OwnerContext",{useValue:this.context}),this.currentDC.register("container",{useValue:this.currentDC});const options=yield this.getAttributeValueAsync("options");if(options){const newOptions=lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_4___default()(eval(options),this.context.options.originalOptions);this.currentDC.register("IHostOptions",{useValue:newOptions}),this.oldLocalContext=this.currentDC.resolve(_context_LocalRootContext__WEBPACK_IMPORTED_MODULE_3__.Z)}else this.oldLocalContext=this.currentDC.resolve("ILocalContext");this.currentDC.register("context",{useValue:this.oldLocalContext}),this.collection=this.currentDC.resolve(_ComponentCollection__WEBPACK_IMPORTED_MODULE_1__.Z),yield this.collection.processNodesAsync(this.childNodes)}))}disposeAsync(){const e=Object.create(null,{disposeAsync:{get:()=>super.disposeAsync}});var t,n,r;return __awaiter(this,void 0,void 0,(function*(){return null===(t=this.oldLocalContext)||void 0===t||t.dispose(),yield null===(n=this.collection)||void 0===n?void 0:n.disposeAsync(),null===(r=this.currentDC)||void 0===r||r.clearInstances(),e.disposeAsync.call(this)}))}};GroupComponent=__decorate([(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.b2)(),__param(0,(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.f3)("element")),__param(1,(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.f3)("context")),__param(2,(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.f3)("container")),__metadata("design:paramtypes",[Element,Object,Object])],GroupComponent);const __WEBPACK_DEFAULT_EXPORT__=GroupComponent},242:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var tsyringe__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(195),_enum__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(397),_CommandComponent__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(210),__decorate=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s},__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},__param=function(e,t){return function(n,r){t(n,r,e)}},__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};let CallbackComponent=class CallbackComponent extends _CommandComponent__WEBPACK_IMPORTED_MODULE_2__.Z{constructor(e,t){super(e,t),this.priority=_enum__WEBPACK_IMPORTED_MODULE_1__.UL.none,this.allowMultiProcess=!0,this.methodToken=this.getAttributeToken("method")}runAsync(source){return __awaiter(this,void 0,void 0,(function*(){let retVal=!0,callbackFunction=null;if(this.methodToken){const methodName=yield this.methodToken.getValueAsync(),method=eval(methodName);callbackFunction=e=>{const t=this.createCallbackArgument({source:e});try{Reflect.apply(method,null,[t])}catch(e){this.context.logger.logError(`error in execute callback method '${methodName}'.`,e),retVal=e}}}else callbackFunction=e=>{console.log(e),console.table(null==e?void 0:e.rows)};return source?callbackFunction(source):this.triggers.forEach((e=>{const t=this.context.tryToGetSource(e);t&&callbackFunction(t)})),retVal}))}};CallbackComponent=__decorate([(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.b2)(),__param(0,(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.f3)("element")),__param(1,(0,tsyringe__WEBPACK_IMPORTED_MODULE_0__.f3)("context")),__metadata("design:paramtypes",[Element,Object])],CallbackComponent);const __WEBPACK_DEFAULT_EXPORT__=CallbackComponent},294:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(919),o=n(877);class i{constructor(e,t,n){this.repository=e,this.logger=n,this.options=t,this.onDataSourceSet=new r.Z}checkSourceHeartbeatAsync(e){throw new Error("Method not implemented.")}onDataSourceSetHandler(e){var t=this.repository.resolves.get(e.id);t&&(t.Trigger(e),this.repository.resolves.delete(e.id)),this.onDataSourceSet.Trigger(e)}addOnSourceSetHandler(e,t){this.repository.addHandler(e,t)}removeOnSourceSetHandler(e,t){this.repository.removeHandler(e,t)}tryToGetSource(e){return this.repository.tryToGet(e)}waitToGetSourceAsync(e){return t=this,n=void 0,o=function*(){var t=this.tryToGetSource(e);return t||(t=yield this.repository.waitToGetAsync(e)),t},new((r=void 0)||(r=Promise))((function(e,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function c(e){try{a(o.throw(e))}catch(e){i(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,c)}a((o=o.apply(t,n||[])).next())}));var t,n,r,o}setAsSource(e,t,n,r){var i=new o.Z(e,t,n);this.setSource(i,r)}setSource(e,t){const n=this.repository.setSource(e,t);this.onDataSourceSetHandler(n)}setSourceFromOwner(e){this.repository.setSourceFromOwner(e),this.onDataSourceSetHandler(e)}dispose(){}}},523:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(195),o=n(818),i=n(294),s=n(887),c=function(e,t){return function(n,r){t(n,r,e)}};let a=class extends s.Z{constructor(e,t,n){super(e,n,t.logger),this.owner=t,this.handler=this.owner.onDataSourceSet.Add(this.setSourceFromOwner.bind(this))}tryToGetSource(e){var t;return null!==(t=super.tryToGetSource(e))&&void 0!==t?t:this.owner.tryToGetSource(e)}dispose(){this.owner.onDataSourceSet.Remove(this.handler)}};a=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,r.b2)(),c(0,(0,r.f3)("IContextRepository")),c(1,(0,r.f3)("OwnerContext")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,i.Z,o.G])],a);const u=a},887:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var r=n(479),o=n(441);class i{constructor(e){this.Name=e}ParseJsonString(e){try{var t=JSON.parse(e);return this.ConvertObject(t)}catch(t){throw new r.Z(`Invalid Json Format:${e}.${t}`)}}ConvertObject(e){var t=new s;try{t.Setting=e._}catch(e){}return Object.getOwnPropertyNames(e).forEach((n=>{if("_"!==n){var r=e[n],o=r.shift(),i=new Array;r.forEach((e=>{var t={};o.forEach(((n,r)=>{t[n]=e[r]})),i.push(t)})),t.Tables.push(new c(n,i))}})),t}}class s{constructor(){this.Tables=[]}}class c{constructor(e,t){this.Key=e,this.Value=t}}var a=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class u extends i{constructor(e,t,n){if(super(e),this.context=n,"string"==typeof t){var o=t.split("|");if(this.Url=o[0],2!=o.length)throw new r.Z(`For Local Storage Connection '${e}', Setting In Not Valid`);this.FunctionName=o[1]}else this.Url=t.Url,this.FunctionName=t.Function;this.Function=null}LoadLibAsync(){return a(this,void 0,void 0,(function*(){this.Function||(this.Function=yield $bc.util.getLibAsync(this.FunctionName,this.Url))}))}TestConnectionAsync(e){return a(this,void 0,void 0,(function*(){return yield this.LoadLibAsync(),null!==this.FunctionName}))}loadDataAsync(e,t,n,r){throw new Error("Method not implemented.")}loadPageAsync(e,t,n){throw new r.Z("LoadPageAsync Method not Supported In LocalStorage Provider.")}}class l extends i{constructor(e,t){super(e),"string"==typeof t?this.Url=t:(this.Url=t.Url,this.Heartbeat=t.Heartbeat,this.Verb=t.Verb,this.HeartbeatVerb=t.HeartbeatVerb)}}class f extends l{constructor(e,t){super(e,t)}TestConnectionAsync(e){throw new Error("Method not implemented.")}loadDataAsync(e,t,n,r){throw new Error("Method not implemented.")}loadPageAsync(e,t,n,o){throw new r.Z("LoadPageAsync Method not Supported In REST API Provider.")}}var d=n(231),h=n(102),p=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class y extends l{constructor(e,t){super(e,t)}TestConnectionAsync(e){var t;return p(this,void 0,void 0,(function*(){var n;if(h.Z.HasValue(this.Heartbeat))try{yield y.ajax(this.Heartbeat,null!==(t=this.HeartbeatVerb)&&void 0!==t?t:e.options.getDefault("source.heartbeatVerb")),n=!0}catch(e){n=!1}else n=!0;return n}))}loadDataAsync(e,t,n,r){var o;return p(this,void 0,void 0,(function*(){var t=yield y.ajax(this.Url,null!==(o=this.Verb)&&void 0!==o?o:e.options.getDefault("source.verb"),n),i=this.ParseJsonString(t);r(i.Tables.map((e=>new d.Z(e.Key,e.Value))))}))}loadPageAsync(e,t,n,r){var o;return p(this,void 0,void 0,(function*(){return yield y.ajax(`${this.Url}${t}`,null!==(o=null!=r?r:this.Verb)&&void 0!==o?o:e.options.getDefault("call.verb"),n)}))}static ajax(e,t,n=null){return new Promise(((r,o)=>{var i,s=new XMLHttpRequest;s.withCredentials=!1,s.open(t,e,!0),s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.onload=function(e){4===s.readyState&&(200===s.status?r(s.responseText):o(s.statusText))},s.onerror=function(e){o(s.statusText)},h.Z.HasValue(n)&&(i=[],Object.getOwnPropertyNames(n).forEach(((e,t,r)=>i.push(encodeURIComponent(e)+"="+encodeURIComponent(n[e])))),i=i.join("&").replace(/%20/g,"+")),s.send(i)}))}}var _=n(314);class v extends i{constructor(e,t){super(e),this.activeSockets=new Map,this.maxRetry=5,this.url="string"==typeof t?t:t.Connection}loadDataAsync(e,t,n,r){const o=this.url,i=this.maxRetry,s=this.activeSockets,c=s.get(t);return c&&(c.close(),e.logger.logInformation("Disconnect from %s by client request",o),s.delete(t)),new _.Z(((c,a)=>{let u=0;!function l(f){u++;const h=new WebSocket(o);let p=null;h.onopen=e=>{s.set(t,h),console.log("%s %s",o,f?"Reconnected":"Connected"),h.send(JSON.stringify(n))},h.onclose=n=>{s.delete(t),null!=p?(e.logger.logInformation("Try reconnect To %s",o),u<i?(l(!0),p=null):a(p)):(c(),e.logger.logInformation(`${o} Disconnected`))},h.onerror=t=>{e.logger.logError(`Error On '${o}'`,t),p=t},h.onmessage=t=>{try{var n=JSON.parse(t.data);if(n.setting&&void 0!==n.setting.keepalive&&!n.setting.keepalive&&(e.logger.logInformation("Disconnect from %s by server request",o),h.close()),n.sources){const t=Object.keys(null==n?void 0:n.sources).map((e=>({key:e,data:n.sources[e]}))).map((e=>new d.Z(e.key,e.data.data,e.data.options)));t.length>0&&(r(t)||(e.logger.logInformation("Disconnect from %s by receiver request. maybe disposed!",o),h.close()))}}catch(t){e.logger.logError("Error in process WebSocket received message",t)}}}(!1)}))}TestConnectionAsync(e){return Promise.resolve(!0)}loadPageAsync(e,t,n){throw new Error("WebSocket call not implemented.")}}class g{constructor(e,t){this.connections=new Map,Object.getOwnPropertyNames(e).map((t=>{var n,r,o=t.split(".",3);return{type:null===(n=o[0])||void 0===n?void 0:n.trim().toLowerCase(),provider:null===(r=o[1])||void 0===r?void 0:r.trim().toLowerCase(),name:o[2],value:e[t]}})).filter((e=>e.type.isEqual("connection"))).forEach((e=>{var n;switch(e.provider){case"web":n=new y(e.name,e.value);break;case"websocket":n=new v(e.name,e.value);break;case"local":n=new u(e.name,e.value,t);break;case"rest":n=new f(e.name,e.value)}this.connections.set(n.Name,n)}))}getConnection(e){var t=this.connections.get(e);if(!t)throw new o.Z("host.settings",e);return t}}var m=n(294);class b extends m.Z{constructor(e,t,n){super(e,t,n),this.loadLibDic={},this.connections=new g(t.settings,this),this.addHostOptionsSource()}loadPageAsync(e,t,n){return this.connections.getConnection("callcommand").loadPageAsync(this,e,t,n)}loadDataAsync(e,t,n,r){return this.connections.getConnection(t).loadDataAsync(this,e,n,r)}getOrLoadDbLibAsync(){return e=this,t=void 0,o=function*(){let e;if("undefined"==typeof alasql){if(h.Z.IsNullOrEmpty(this.options.dbLibPath))throw new r.Z("Error in load 'alasql'. 'DbLibPath' not configure properly in host object.");e=yield $bc.util.getLibAsync("alasql",this.options.dbLibPath)}else e=alasql;return e},new((n=void 0)||(n=Promise))((function(r,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function c(e){try{a(o.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((o=o.apply(e,t||[])).next())}));var e,t,n,o}addHostOptionsSource(){this.options.sources&&Object.getOwnPropertyNames(this.options.sources).forEach((e=>{const t=this.options.sources[e];t instanceof Array?this.setAsSource(e.toLowerCase(),t):this.setAsSource(e.toLowerCase(),t.data,t.options)}))}}},231:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{constructor(e,t,n){this.id=e,this.options=n,Array.isArray(t)?this.rows=t:this.rows="object"==typeof t?[t]:[{value:t}]}}},877:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(397);class o{constructor(e,t,n){var o;this._id=e.toLowerCase(),this.mergeType=null!==(o=null==n?void 0:n.mergeType)&&void 0!==o?o:r.dx.replace,this.keyFieldName=null==n?void 0:n.keyFieldName,this.statusFieldName=null==n?void 0:n.statusFieldName,Array.isArray(t)?this._rows=t:this._rows="object"==typeof t?[t]:[{value:t}],this._versions=Array(this._rows.length).fill(0)}get id(){return this._id}get rows(){return this._rows}get versions(){return this._versions}cloneOptions(){return{keyFieldName:this.keyFieldName,mergeType:this.mergeType,statusFieldName:this.statusFieldName}}removeRowFormIndex(e){this._rows.splice(e,1),this._versions.splice(e,1)}replaceRowFromIndex(e,t){this._rows.splice(e,1,t),this._versions[e]+=1}addRow(e){this._rows.push(e),this._versions.push(0)}addRows(e){this.rows.splice(this.rows.length,e.length,...e),this._versions.splice(this.rows.length,e.length,...Array(e.length))}getVersion(e){const t=this._rows.indexOf(e);return-1!=t?this._versions[t]:0}replace(e){const t=this._rows.length,n=e.rows.length;this._rows.splice(0,t,...e.rows),t>n?this._versions.splice(n,t-n):t<n&&this._versions.splice(n,0,...Array(n-t).fill(-1)),this._versions.forEach(((e,t,n)=>n[t]=++e))}}},397:(e,t,n)=>{"use strict";var r,o,i,s,c;n.d(t,{A$:()=>r,dx:()=>o,UL:()=>s,rq:()=>c}),function(e){e[e.NotSet=0]="NotSet",e[e.Odd=1]="Odd",e[e.Even=2]="Even"}(r||(r={})),function(e){e[e.replace=0]="replace",e[e.append=1]="append"}(o||(o={})),function(e){e[e.innerjoin=0]="innerjoin",e[e.leftjoin=1]="leftjoin",e[e.rightjoin=2]="rightjoin"}(i||(i={})),function(e){e[e.high=0]="high",e[e.normal=1]="normal",e[e.low=2]="low",e[e.none=3]="none"}(s||(s={})),function(e){e[e.added=0]="added",e[e.edited=1]="edited",e[e.deleted=2]="deleted"}(c||(c={}))},919:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r{constructor(){this.handlers=new Set}Add(e){let t=null;return this.handlers.has(e)||(this.handlers.add(e),t=e),t}Remove(e){let t=null;return this.handlers.has(e)&&(this.handlers.delete(e),t=e),t}Trigger(e){this.handlers.forEach((t=>{try{t(e)}catch(e){console.error(e)}}))}}},479:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r extends Error{constructor(e){super(e)}}},441:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(479);class o extends r.Z{constructor(e,t){super(`In '${e}' object, property '${t}' not configured!`)}}},570:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";var _exception_ClientException__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(479),_token_TokenUtil__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(535),_Util__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(102);Object.defineProperty(String.prototype,"Evaluating",{value:function Evaluating(){var _a;try{return _Util__WEBPACK_IMPORTED_MODULE_2__.Z.isEqual(null===(_a=eval(this.toString()))||void 0===_a?void 0:_a.toString(),"true")}catch(e){throw new _exception_ClientException__WEBPACK_IMPORTED_MODULE_0__.Z(`Error In Evaluating '${this.toString()}': ${e}`)}},writable:!0,configurable:!0}),Object.defineProperty(String.prototype,"ToStringToken",{value:function(e){return _token_TokenUtil__WEBPACK_IMPORTED_MODULE_1__.Z.ToStringToken(this.toString(),e)},writable:!0,configurable:!0}),Object.defineProperty(String.prototype,"ToIntegerToken",{value:function(e){return _token_TokenUtil__WEBPACK_IMPORTED_MODULE_1__.Z.ToIntegerToken(this.toString(),e)},writable:!0,configurable:!0}),Object.defineProperty(String.prototype,"ToBooleanToken",{value:function(e){return _token_TokenUtil__WEBPACK_IMPORTED_MODULE_1__.Z.ToBooleanToken(this.toString(),e)},writable:!0,configurable:!0}),Object.defineProperty(String.prototype,"isEqual",{value:function(e){return 0==this.toString().localeCompare(null!=e?e:"",void 0,{sensitivity:"accent"})},writable:!0,configurable:!0})},818:(e,t,n)=>{"use strict";n.d(t,{G:()=>f});var r,o=n(195),i=n(441),s=n(102),c=n(98),a=n.n(c),u=n(465),l=n.n(u);let f=r=class{constructor(e){const t=l()(e);e!==r.defaultSettings?(e=a()(l()(e),r.defaultSettings),Object.assign(this,e)):Object.assign(this,l()(e)),this.originalOptions=t}static get defaultSettings(){if(!r._defaultSettings){let e={debug:!1,autoRender:!0,serviceWorker:!1,dbLibPath:"/alasql.min.js",settings:{"default.binding.regex":/\[##([^#]*)##\]/,"default.binding.codeblock-regex":/{{((?:[^{}][{}]?)*)}}/,"default.binding.face-regex":/([^@]|^)@(?:([^@\s]+)@|([^@\s]+))/,"default.call.verb":"POST","default.dmnid":"","default.source.verb":"POST","default.ViewCommand.GroupColumn":"prpid","default.source.heartbeatVerb":"GET"},repositories:{}};"undefined"!=typeof host&&(e=a()(l()(host),e)),r._defaultSettings=e}return r._defaultSettings}getDefault(e,t=null){return this.getSetting(`default.${e}`,t)}getSetting(e,t){var n=Object.getOwnPropertyNames(this.settings).filter((t=>s.Z.isEqual(t,e))),r=1==n.length?this.settings[n[0]]:null;if(!r){if(void 0===t)throw new i.Z("host.settings",e);r=t}return r}};var d,h;f=r=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,o.b2)(),(d=0,h=(0,o.f3)("IHostOptions"),function(e,t){h(e,t,d)}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],f)},314:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});class r extends Promise{}},827:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(222),o=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class i{constructor(e,t){this.context=t,this.fn=new r.s("$bc","$data",`try{\n        ${e}\n      }catch(e){\n        console.error(e);\n        return e;\n      }`);const n=e.matchAll(/\$bc\.(?:waitToGetSourceAsync|tryToGetSource)\('(.*)'\)/g);if(n){this.sourceNames=new Array;for(const e of n)this.sourceNames.push(e[1])}}getValueAsync(e){var t;return o(this,void 0,void 0,(function*(){return null!==(t=yield this.fn(this.context))&&void 0!==t?t:""}))}executeAsync(e){var t;return o(this,void 0,void 0,(function*(){return null!==(t=yield this.fn(this.context,e))&&void 0!==t?t:""}))}getSourceNames(){return this.sourceNames}getDefault(){return""}}},535:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(102),o=n(827);class i extends Array{constructor(e,...t){super(...t),this.context=e}getDefault(){const e=this.reduce(((e,t)=>{var n;return e+(null!==(n=t.getDefault())&&void 0!==n?n:"")}),"");return this.tryParse(e)}getSourceNames(){return this.reduce(((e,t)=>e.concat(t.getSourceNames())),new Array)}getValueAsync(e=!0){return t=this,n=void 0,o=function*(){var t=new Array;this.forEach((n=>t.push(n.getValueAsync(e))));var n=yield Promise.all(t);return this.tryParse(n.join(""))},new((r=void 0)||(r=Promise))((function(e,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function c(e){try{a(o.throw(e))}catch(e){i(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,c)}a((o=o.apply(t,n||[])).next())}));var t,n,r,o}}class s{constructor(e,t){this.source=e[0].toLowerCase(),this.member=e[1].toLowerCase(),this.column=e.length>2?e.slice(2).join("."):null,this.expression=t,this.extractValue=new Function("source",`let retVal = null;\n      if (source.rows.length == 1) {\n        try{\n        retVal = source.rows[0].${this.column};\n        }catch(e){\n          try{\n            retVal = source.rows[0]['${this.column}'];\n          }catch{\n            throw e;\n          }\n        }\n      } else if (source.rows.length > 1) {\n        retVal = source.rows\n              .map((row) => row.${this.column});\n      }\n      return retVal;`)}get sourceName(){return`${this.source}.${this.member}`}}class c{constructor(e){this.value=e}}class a{constructor(e,t){this.context=t,this.parts=e.split("|").map((e=>{var t=e.split(".");const n=t[0].match(/^\s*\((.*)\)\s*$/);return n?new c(this.tryParse(n[1])):new s(t,e)}))}getDefault(){var e,t;return null!==(t=null===(e=this.parts.filter((e=>e instanceof c))[0])||void 0===e?void 0:e.value)&&void 0!==t?t:null}getSourceNames(){return this.parts.filter((e=>e instanceof s)).map((e=>e.sourceName))}getValueAsync(e=!0){return t=this,n=void 0,o=function*(){for(var t=null,n=0;n<this.parts.length;n++){var r=this.parts[n];if(r instanceof c)t=r.value;else if(r instanceof s){if(r.member){const i=r.sourceName;var o=this.context.tryToGetSource(i);if(r.column){if(null==o){if(n+1!=this.parts.length)continue;if("cms"===r.source)break;if(!e)break;o=yield this.context.waitToGetSourceAsync(i)}let s=null;try{s=r.extractValue(o)}catch(e){}if(null!=s&&""!==s){t=s;break}continue}t=this.tryParse(o?"true":"false");break}{const e=yield this.context.checkSourceHeartbeatAsync(r.source);t=this.tryParse(e.toString());break}}}return t},new((r=void 0)||(r=Promise))((function(e,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function c(e){try{a(o.throw(e))}catch(e){i(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,c)}a((o=o.apply(t,n||[])).next())}));var t,n,r,o}}class u extends a{constructor(e,t){super(e,t)}static tryParse(e){return null==e?null:"true"===e.toLowerCase()}tryParse(e){return u.tryParse(e)}}class l extends i{constructor(e,...t){super(e,...t)}tryParse(e){return u.tryParse(e)}}class f{constructor(e,t){this.context=t,this.value=e}getDefault(){return this.value}getSourceNames(){return new Array}getValueAsync(e=!0){return new Promise((e=>e(this.value)))}}class d extends f{constructor(e,t){super(e,t)}}class h extends i{constructor(e,...t){super(e,...t)}tryParse(e){let t=0;try{t=parseInt(e)}catch(e){}return t}}class p extends a{constructor(e,t){super(e,t)}tryParse(e){let t=0;try{t=parseInt(e)}catch(e){}return t}}class y extends f{constructor(e,t){super(e,t)}}class _ extends i{constructor(e,...t){super(e,...t)}tryParse(e){return e}}class v extends a{constructor(e,t){super(e,t)}tryParse(e){return e}}class g extends f{constructor(e,t){super(e,t)}}class m{static ToStringToken(e,t){return m.ToToken(e,t,(e=>new g(e,t)),(e=>new v(e,t)),((...e)=>new _(t,...e)))}static ToIntegerToken(e,t){return m.ToToken(e,t,(e=>new y(parseInt(e),t)),(e=>new p(e,t)),((...e)=>new h(t,...e)))}static ToBooleanToken(e,t){return m.ToToken(e,t,(e=>new d(r.Z.isEqual(e,"true"),t)),(e=>new u(e,t)),((...e)=>new l(t,...e)))}static ToToken(e,t,n,r,i){var s;if(e){const a=t.options.getDefault("binding.regex"),u=t.options.getDefault("binding.codeblock-regex");var c=new Array;do{let i=e.match(a);if(i)0!=i.index&&c.push(n(e.substring(0,i.index))),c.push(r(i[1])),e=e.substring(i.index+i[0].length);else{if(i=e.match(u),!i){c.push(n(e));break}0!=i.index&&c.push(n(e.substring(0,i.index))),c.push(new o.Z(i[1],t)),e=e.substring(i.index+i[0].length)}}while(e.length>0);s=1==c.length?c[0]:i(...c)}return s}static GetValueOrSystemDefaultAsync(e,t,n){return o=this,i=void 0,c=function*(){return r.Z.HasValue(e)?yield e.getValueAsync():t.options.getDefault(n)},new((s=void 0)||(s=Promise))((function(e,t){function n(e){try{a(c.next(e))}catch(e){t(e)}}function r(e){try{a(c.throw(e))}catch(e){t(e)}}function a(t){var o;t.done?e(t.value):(o=t.value,o instanceof s?o:new s((function(e){e(o)}))).then(n,r)}a((c=c.apply(o,i||[])).next())}));var o,i,s,c}}},222:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>AsyncFunction});const AsyncFunction=eval("Object.getPrototypeOf(async function () {}).constructor")},361:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var r=n(231),o=n(877),i=n(102),s=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class c{new(e,t,n){return new o.Z(e,t,n)}sortAsync(e,t,n){return s(this,void 0,void 0,(function*(){const r=yield n.getOrLoadDbLibAsync();return new o.Z(e.id,r(`SELECT * FROM ? order by ${t}`,[e.rows]),e.cloneOptions())}))}filterAsync(e,t,n){return s(this,void 0,void 0,(function*(){return this.isNullOrEmpty(t)?e.rows:(yield n.getOrLoadDbLibAsync())(`SELECT * FROM ? [${e.id}] where ${t}`,[e.rows])}))}isNullOrEmpty(e){return void 0===e||null==e||""===e}runSqlAsync(e,t,n){return s(this,void 0,void 0,(function*(){const r=yield n.getOrLoadDbLibAsync();return new o.Z(e.id,r(i.Z.ReplaceEx(t,`\\[${e.id}\\]`,"?"),[e.rows]),e.cloneOptions())}))}data(e,t,n){return new r.Z(e,t,n)}}},835:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>UtilWrapper});var lodash_clonedeep__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(465),lodash_clonedeep__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(lodash_clonedeep__WEBPACK_IMPORTED_MODULE_0__),_SourceWrapper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(361),lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(98),lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_2__),_exception_ClientException__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(479),__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class UtilWrapper{constructor(){this.source=new _SourceWrapper__WEBPACK_IMPORTED_MODULE_1__.Q,this.parser=new DOMParser}cloneDeep(e){return lodash_clonedeep__WEBPACK_IMPORTED_MODULE_0___default()(e)}getLibAsync(objectName,url){let retVal=null,type="undefined";try{type=eval(`typeof(${objectName})`)}catch(e){}return"undefined"!==type?Promise.resolve(eval(objectName)):(retVal=new Promise(((resolve,reject)=>{let script=document.querySelector(`script[src='${url}']`);script||(script=document.createElement("script"),script.setAttribute("type","text/javascript"),script.setAttribute("src",url),document.getElementsByTagName("head")[0].appendChild(script));const loadListener=_=>{script.removeEventListener("load",loadListener),script.removeEventListener("error",errorListener),console.log("%s loaded from %s",objectName,url),resolve(eval(objectName))},errorListener=e=>{script.removeEventListener("load",loadListener),script.removeEventListener("error",errorListener),reject(e)};script.addEventListener("load",loadListener),script.addEventListener("error",errorListener)})),retVal)}defaultsDeep(e,t){return lodash_defaultsdeep__WEBPACK_IMPORTED_MODULE_2___default()(this.cloneDeep(e),t)}toNode(e){return document.createRange().createContextualFragment(e)}toHTMLElement(e){const t=this.parser.parseFromString(e,"application/xml"),n=e=>{const t=document.createElement(e.tagName);if(e.attributes)for(let n=0;n<e.attributes.length;n++){const r=e.attributes[n];t.setAttribute(r.name,r.value)}return e.childNodes.forEach((e=>{const r=e;if(r.nodeType===Node.TEXT_NODE){const n=e.nodeValue.trim();n.length>0&&t.appendChild(document.createTextNode(n))}else t.appendChild(n(r))})),t};return"parsererror"===t.documentElement.tagName?t.documentElement:n(t.documentElement)}getComponentAsync(context,key){return __awaiter(this,void 0,void 0,(function*(){let retVal;if(key)if(0==key.indexOf("local.")){const lib=key.slice(key.indexOf(".")+1);retVal=eval(lib),console.log("%s loaded from local",lib)}else{let e=key;for(;;){const t=context.options.repositories[e];if(t){retVal=yield this.getLibAsync(key,t);break}{const t=e.lastIndexOf(".");if(-1==t)break;e=e.slice(0,t)}}}if(retVal)return retVal;throw new _exception_ClientException__WEBPACK_IMPORTED_MODULE_3__.Z(`'${key}' related repository setting not found`)}))}}},195:(e,t,n)=>{"use strict";var r;n.d(t,{nC:()=>O,f3:()=>E,b2:()=>k,ri:()=>R}),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(r||(r={}));const o=r;var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function c(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e}function l(e){return!!e.useClass}function f(e){return!!e.useFactory}var d=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,n=this,r=!1;return new Proxy({},this.createHandler((function(){return r||(t=e(n.wrap()),r=!0),t})))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach((function(n){t[n]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];t[0]=e();var o=Reflect[n];return o.apply(void 0,u(t))}})),t},e}();function h(e){return"string"==typeof e||"symbol"==typeof e}function p(e){return"object"==typeof e&&"token"in e&&"transform"in e}function y(e){return!!e.useToken}function _(e){return null!=e.useValue}const v=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(v),m=function(){this.scopedResolutions=new Map};var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(v),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(v);const A=function(){this.preResolution=new b,this.postResolution=new w};var x=new Map,O=new(function(){function e(e){this.parent=e,this._registry=new g,this.interceptors=new A}return e.prototype.register=function(e,t,n){var r;if(void 0===n&&(n={lifecycle:o.Transient}),r=function(e){return l(e)||_(e)||y(e)||f(e)}(t)?t:{useClass:t},y(r))for(var i=[e],s=r;null!=s;){var c=s.useToken;if(i.includes(c))throw new Error("Token registration cycle detected! "+u(i,[c]).join(" -> "));i.push(c);var a=this._registry.get(c);s=a&&y(a.provider)?a.provider:null}if((n.lifecycle===o.Singleton||n.lifecycle==o.ContainerScoped||n.lifecycle==o.ResolutionScoped)&&(_(r)||f(r)))throw new Error('Cannot use lifecycle "'+o[n.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:r,options:n}),this},e.prototype.registerType=function(e,t){return h(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(h(e)){if(h(t))return this.register(e,{useToken:t},{lifecycle:o.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:o.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var n=e;return t&&!h(t)&&(n=t),this.register(e,{useClass:n},{lifecycle:o.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new m);var n=this.getRegistration(e);if(!n&&h(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),n){var r=this.resolveRegistration(n,t);return this.executePostResolutionInterceptor(e,r,"Single"),r}if(function(e){return"function"==typeof e||e instanceof d}(e))return r=this.construct(e,t),this.executePostResolutionInterceptor(e,r,"Single"),r;throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var n,r;if(this.interceptors.preResolution.has(e)){var o=[];try{for(var i=c(this.interceptors.preResolution.getAll(e)),s=i.next();!s.done;s=i.next()){var a=s.value;"Once"!=a.options.frequency&&o.push(a),a.callback(e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.interceptors.preResolution.setAll(e,o)}},e.prototype.executePostResolutionInterceptor=function(e,t,n){var r,o;if(this.interceptors.postResolution.has(e)){var i=[];try{for(var s=c(this.interceptors.postResolution.getAll(e)),a=s.next();!a.done;a=s.next()){var u=a.value;"Once"!=u.options.frequency&&i.push(u),u.callback(e,t,n)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}this.interceptors.postResolution.setAll(e,i)}},e.prototype.resolveRegistration=function(e,t){if(e.options.lifecycle===o.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var n,r=e.options.lifecycle===o.Singleton,i=e.options.lifecycle===o.ContainerScoped,s=r||i;return n=_(e.provider)?e.provider.useValue:y(e.provider)?s?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):l(e.provider)?s?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):f(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===o.ResolutionScoped&&t.scopedResolutions.set(e,n),n},e.prototype.resolveAll=function(e,t){var n=this;void 0===t&&(t=new m);var r=this.getAllRegistrations(e);if(!r&&h(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),r){var o=r.map((function(e){return n.resolveRegistration(e,t)}));return this.executePostResolutionInterceptor(e,o,"All"),o}var i=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,i,"All"),i},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;try{for(var n=c(this._registry.entries()),r=n.next();!r.done;r=n.next()){var o=a(r.value,2),i=o[0],s=o[1];this._registry.setAll(i,s.filter((function(e){return!_(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(t){e={error:t}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var t,n,r=new e(this);try{for(var i=c(this._registry.entries()),s=i.next();!s.done;s=i.next()){var u=a(s.value,2),l=u[0],f=u[1];f.some((function(e){return e.options.lifecycle===o.ContainerScoped}))&&r._registry.setAll(l,f.map((function(e){return e.options.lifecycle===o.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.beforeResolution=function(e,t,n){void 0===n&&(n={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:n})},e.prototype.afterResolution=function(e,t,n){void 0===n&&(n={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:n})},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var n=this;if(e instanceof d)return e.createProxy((function(e){return n.resolve(e,t)}));var r=x.get(e);if(!r||0===r.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var o=r.map(this.resolveParams(t,e));return new(e.bind.apply(e,u([void 0],o)))},e.prototype.resolveParams=function(e,t){var n=this;return function(r,o){var i,s,c,l;try{return"object"==typeof(l=r)&&"token"in l&&"multiple"in l?p(r)?r.multiple?(i=n.resolve(r.transform)).transform.apply(i,u([n.resolveAll(r.token)],r.transformArgs)):(s=n.resolve(r.transform)).transform.apply(s,u([n.resolve(r.token,e)],r.transformArgs)):r.multiple?n.resolveAll(r.token):n.resolve(r.token,e):p(r)?(c=n.resolve(r.transform,e)).transform.apply(c,u([n.resolve(r.token,e)],r.transformArgs)):n.resolve(r,e)}catch(e){throw new Error(function(e,t,n){var r,o,i,s,c=a(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1];return r="Cannot inject the dependency "+(s=t,(null===(i=void 0===c?null:c)?"at position #"+s:'"'+i.split(",")[s].trim()+'" at position #'+s)+' of "')+e.name+'" constructor. Reason:',void 0===o&&(o="    "),u([r],n.message.split("\n").map((function(e){return o+e}))).join("\n")}(t,o,e))}}},e}()),T="injectionTokens";const E=function(e){return t=e,function(e,n,r){var o=Reflect.getOwnMetadata(T,e)||{};o[r]=t,Reflect.defineMetadata(T,o,e)};var t},k=function(){return function(e){x.set(e,function(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],n=Reflect.getOwnMetadata(T,e)||{};return Object.keys(n).forEach((function(e){t[+e]=n[e]})),t}(e))}},R=function(){return function(e){k()(e),O.registerSingleton(e)}};if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.loaded=!0,n.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var __webpack_exports__={};(()=>{"use strict";__webpack_require__(660);var e=__webpack_require__(195),t=__webpack_require__(884),n=__webpack_require__(818),r=__webpack_require__(887),o=function(e,t){return function(n,r){t(n,r,e)}};let i=class extends r.Z{constructor(e,t,n,r){super(e,r,t),n.register("HostOptions",{useValue:r});const o=window.location.search.substring(1);this.addQueryString(o),this.addRequestRelatedSources()}addQueryString(e){if(e.length>0){const t=e.split("&").map((e=>e.split("="))).reduce(((e,t)=>{var n;return e[t[0]]=decodeURIComponent(null!==(n=t[1])&&void 0!==n?n:""),e}),{});this.setAsSource("cms.query",t)}}addRequestRelatedSources(){if(document.cookie){const e=document.cookie.split(";").map((e=>e.split("="))).reduce(((e,t)=>(e[t[0]]=t[1],e)),{});this.setAsSource("cms.cookie",e)}const e={requestId:-1,hostip:window.location.hostname,hostport:window.location.port};this.setAsSource("cms.request",e);const t=e=>("0"+e).slice(-2),n=new Date,r=n.getFullYear(),o=t(n.getMonth()),i=t(n.getDay()),s=t(n.getHours()),c=t(n.getMinutes()),a={date:`${r}/${o}/${i}`,time:`${s}:${c}`,date2:`${r}${o}${i}`,time2:`${s}${c}${t(n.getSeconds())}`,date3:`${r}.${o}.${i}`};this.setAsSource("cms.cms",a)}};i=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),o(0,(0,e.f3)("IContextRepository")),o(1,(0,e.f3)("ILogger")),o(2,(0,e.f3)("container")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Object,Object,n.G])],i);const s=i;var c=function(e,t){return function(n,r){t(n,r,e)}};let a=class{constructor(e,n,r){this.context=e,n.register("root.context",{useValue:e}),n.register("context",{useToken:"root.context"}),this.content=n.resolve(t.Z),this.content.processNodesAsync(r)}setSource(e,t,n){this.content.initializeTask.then((r=>{this.context.setAsSource(e,t,n)}))}};a=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),c(1,(0,e.f3)("container")),c(2,(0,e.f3)("root.nodes")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[s,Object,Array])],a);const u=a;var l=__webpack_require__(397),f=__webpack_require__(210),d=function(e,t){return function(n,r){t(n,r,e)}},h=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};let p=class extends f.Z{constructor(e,t,n){super(e,t),this.defaultAttributeNames=["core","run","file","method"],this.priority=l.UL.high,this.container=n}runAsync(){return h(this,void 0,void 0,(function*(){const e=yield this.getAttributeValueAsync("file"),n=yield this.getAttributeValueAsync("pagesize"),r=yield this.node.outerHTML.ToStringToken(this.context).getValueAsync(),o=yield this.getAttributeValueAsync("method"),i=(null!=o?o:this.context.options.getDefault("call.verb")).toUpperCase();let s=null;if("POST"===i){s={};for(let e=0;e<this.node.attributes.length;e++){const t=this.node.attributes[e],n=t.name.toLowerCase();-1==this.defaultAttributeNames.indexOf(n)&&(s[n]=yield this.getAttributeValueAsync(t.name))}}else s={fileNames:e,dmnid:this.context.options.getDefault("dmnid"),siteSize:n,command:r};const c=yield this.context.loadPageAsync(e,s,i),a=this.range.createContextualFragment(c),u=[...a.childNodes];this.range.deleteContents(),this.range.insertNode(a),this.collection=this.container.resolve(t.Z),yield this.collection.processNodesAsync(u)}))}disposeAsync(){const e=Object.create(null,{disposeAsync:{get:()=>super.disposeAsync}});var t;return h(this,void 0,void 0,(function*(){return yield null===(t=this.collection)||void 0===t?void 0:t.disposeAsync(),e.disposeAsync.call(this)}))}};p=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),d(0,(0,e.f3)("element")),d(1,(0,e.f3)("context")),d(2,(0,e.f3)("container")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Element,Object,Object])],p);const y=p;var _=__webpack_require__(26),v=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class g extends f.Z{constructor(e,t){super(e,t)}processAsync(){const e=Object.create(null,{processAsync:{get:()=>super.processAsync}});var t;return v(this,void 0,void 0,(function*(){this.sourceId=null===(t=yield this.getAttributeValueAsync("dataMemberName"))||void 0===t?void 0:t.toLowerCase(),this.addTrigger([this.sourceId]),yield e.processAsync.call(this)}))}runAsync(e){return v(this,void 0,void 0,(function*(){let t=null;if((null==e?void 0:e.id)!==this.sourceId&&(e=this.context.tryToGetSource(this.sourceId)),e){if(this.onProcessingAsync){const t=this.createCallbackArgument({source:e});yield this.onProcessingAsync(t),e=t.source}t=yield this.renderSourceAsync(e)}return t}))}setContent(e,t){if(t){if(e){const t=this.range.extractContents();t.appendChild(e),this.range.insertNode(t)}}else this.range.deleteContents(),e&&this.range.insertNode(e)}}var m=function(e,t){return function(n,r){t(n,r,e)}},b=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};let w=class extends g{constructor(e,t,n){super(e,t),this.oldChildContexts=new Array,this.collections=new Array,this.container=n}renderSourceAsync(e){return b(this,void 0,void 0,(function*(){const n=yield this.getAttributeValueAsync("name");(yield this.getAttributeBooleanValueAsync("replace",!0))&&(this.range.deleteContents(),yield this.disposeExistingObjectAsync());for(let o=0;o<e.rows.length;o++){const i=e.rows[o],s=this.content.firstChild.cloneNode(!0);var r=document.createDocumentFragment();const c=[...s.childNodes];c.forEach((e=>r.appendChild(e))),this.setContent(r,!0);const a=this.container.createChildContainer();a.register("OwnerContext",{useValue:this.context}),a.register("container",{useValue:a});const u=a.resolve("ILocalContext");this.oldChildContexts.push(u),u.setAsSource(`${n}.current`,i,e.cloneOptions()),a.register("context",{useValue:u});const l=a.resolve(t.Z);this.collections.push(l),yield l.processNodesAsync(c)}}))}disposeExistingObjectAsync(){return b(this,void 0,void 0,(function*(){if(this.oldChildContexts.length>0&&(this.oldChildContexts.forEach((e=>e.dispose())),this.oldChildContexts.splice(0,this.oldChildContexts.length)),this.collections.length>0){const e=this.collections.map((e=>e.disposeAsync()));yield Promise.all(e),this.collections.splice(0,this.collections.length)}}))}disposeAsync(){const e=Object.create(null,{disposeAsync:{get:()=>super.disposeAsync}});return b(this,void 0,void 0,(function*(){return yield this.disposeExistingObjectAsync(),e.disposeAsync.call(this)}))}};w=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),m(0,(0,e.f3)("element")),m(1,(0,e.f3)("context")),m(2,(0,e.f3)("container")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Element,Object,Object])],w);const A=w;var x=__webpack_require__(986),O=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class T extends x.Z{constructor(e,t){super(e,t),this.priority=l.UL.none,this.keyFieldNameToken=this.getAttributeToken("bc-keyField"),this.statusFieldNameToken=this.getAttributeToken("bc-statusField"),this.mergeTypeToken=this.getAttributeToken("bc-merge"),this.eventHandler=this.onEventTriggerAsync.bind(this)}initializeAsync(){const e=Object.create(null,{initializeAsync:{get:()=>super.initializeAsync}});var t;return O(this,void 0,void 0,(function*(){yield e.initializeAsync.call(this);const n=yield this.getAttributeValueAsync("bc-triggers");n&&(this.eventTriggers=n.split(" "),null===(t=this.eventTriggers)||void 0===t||t.forEach((e=>this.node.addEventListener(e,this.eventHandler))))}))}runAsync(e){return this.onEventTriggerAsync()}onEventTriggerAsync(e){const t=Object.create(null,{createCallbackArgument:{get:()=>super.createCallbackArgument}});var n,r;return O(this,void 0,void 0,(function*(){null==e||e.preventDefault();let o,i=yield this.getSourceIdAsync(),s=yield this.getSourceValueAsync(e);if(this.onProcessingAsync){const e=t.createCallbackArgument.call(this,{id:i,value:s});yield this.onProcessingAsync(e),i=e.id,s=e.value}if(this.mergeTypeToken){const e=yield this.mergeTypeToken.getValueAsync();e&&(o=l.dx[e.toLowerCase()])}if(this.context.setAsSource(null!=i?i:"cms.unknown",s,{keyFieldName:yield null===(n=this.keyFieldNameToken)||void 0===n?void 0:n.getValueAsync(),statusFieldName:yield null===(r=this.statusFieldNameToken)||void 0===r?void 0:r.getValueAsync(),mergeType:o}),this.onProcessedAsync){const e=t.createCallbackArgument.call(this,{id:i,value:s});yield this.onProcessedAsync(e)}}))}getSourceIdAsync(){return O(this,void 0,void 0,(function*(){let e=yield this.getAttributeValueAsync("bc-name");return e||(e=yield this.getAttributeValueAsync("name")),e}))}getSourceValueAsync(e){return O(this,void 0,void 0,(function*(){let e=yield this.getAttributeValueAsync("bc-value");if(!e)try{e=this.node.value}catch(e){}return e}))}disposeAsync(){var e;return null===(e=this.eventTriggers)||void 0===e||e.forEach((e=>this.node.removeEventListener(e,this.eventHandler))),super.disposeAsync()}}var E=function(e,t){return function(n,r){t(n,r,e)}};let k=class extends T{constructor(e,t){super(e,t)}getSourceValueAsync(e){const t=new FormData(this.node),n=new Map,r=Array.from(t.keys()).reduce(((e,r)=>{const o=t.get(r);return r.startsWith("_")?n.set(r,o):e[r]=o,e}),{});if(n.size>0){const e=this.convertRootList(n);[...e.keys()].forEach((t=>r[t]=e.get(t)))}return Promise.resolve(r)}convertRootList(e){const t=new Map;return[...e.keys()].forEach((n=>{const r=e.get(n),[o,...i]=n.split(".");let s=t.get(o);s||(s={},t.set(o,s)),i.forEach(((e,t)=>{const[n,o]=e.split("__",2);if(o){let e=s[n];e||(s[n]=e=[]);let t=e[o];t||(e[o]=t={}),s=t}else if(t+1==i.length)s[e]=r;else{let t=s[e];t||(s[e]=t={}),s=t}}))})),[...t.values()].forEach((e=>{!function e(t){Object.keys(t).forEach((n=>{let r=t[n];Array.isArray(r)?(t[n]=r=r.filter(String),r.forEach((t=>e(t)))):"object"==typeof r&&e(r)}))}(e)})),t}};k=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),E(0,(0,e.f3)("element")),E(1,(0,e.f3)("context")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[HTMLFormElement,Object])],k);const R=k;var C=function(e,t){return function(n,r){t(n,r,e)}};let j=class extends T{constructor(e,t){super(e,t)}getSourceValueAsync(e){const t=Object.create(null,{getSourceValueAsync:{get:()=>super.getSourceValueAsync}});return n=this,r=void 0,i=function*(){let n=yield t.getSourceValueAsync.call(this,e);if(!n)switch(this.node.type){case"checkbox":n=this.node.checked;break;case"file":n={value:this.node.files};break;default:n=this.node.value}return n},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{a(i.next(e))}catch(e){t(e)}}function c(e){try{a(i.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((i=i.apply(n,r||[])).next())}));var n,r,o,i}};j=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),C(0,(0,e.f3)("element")),C(1,(0,e.f3)("context")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[HTMLInputElement,Object])],j);const P=j;var S=function(e,t){return function(n,r){t(n,r,e)}};let D=class extends T{constructor(e,t){super(e,t)}};D=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),S(0,(0,e.f3)("element")),S(1,(0,e.f3)("context")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[HTMLElement,Object])],D);const L=D;var M=function(e,t){return function(n,r){t(n,r,e)}};let N=class extends T{constructor(e,t){super(e,t)}getSourceValueAsync(e){const t=Object.create(null,{getSourceValueAsync:{get:()=>super.getSourceValueAsync}});var n,r,o,i,s;return r=this,o=void 0,s=function*(){return null!==(n=this.node.value)&&void 0!==n?n:yield t.getSourceValueAsync.call(this,e)},new((i=void 0)||(i=Promise))((function(e,t){function n(e){try{a(s.next(e))}catch(e){t(e)}}function c(e){try{a(s.throw(e))}catch(e){t(e)}}function a(t){var r;t.done?e(t.value):(r=t.value,r instanceof i?r:new i((function(e){e(r)}))).then(n,c)}a((s=s.apply(r,o||[])).next())}))}};N=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),M(0,(0,e.f3)("element")),M(1,(0,e.f3)("context")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[HTMLSelectElement,Object])],N);const V=N;var I=function(e,t){return function(n,r){t(n,r,e)}};let $=class extends f.Z{constructor(e,t){super(e,t)}runAsync(){return e=this,t=void 0,r=function*(){var e=yield this.getAttributeValueAsync("name"),t=yield this.getAttributeValueAsync("value"),n=yield this.getAttributeValueAsync("max-age"),r=yield this.getAttributeValueAsync("path"),o=`${e.trim()}=${t||""}`;n&&(o+=`;max-age=${n}`),r&&(o+=`;path=${r.trim()}`),document.cookie=o},new((n=void 0)||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}));var e,t,n,r}};$=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),I(0,(0,e.f3)("element")),I(1,(0,e.f3)("context")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Element,Object])],$);const q=$;var F=__webpack_require__(102);class Z{constructor(e,t,n){this.key=e,this.version=t,this.nodes=Array.from(n.childNodes)}AppendTo(e){e instanceof Node?this.nodes.forEach((t=>e.appendChild(t))):e instanceof Range&&this.nodes.forEach((t=>e.insertNode(t)))}}class U{constructor(){this.groups=new Map}set(e,t,n="default"){let r=this.groups[n];r||(r=new Map,this.groups[n]=r),r.set(null!=e?e:t,t)}get(e,t="default"){var n;return null===(n=this.groups[t])||void 0===n?void 0:n.get(e)}}class B{constructor(e,t){this.result=e,this.repository=t}}class K extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,K.prototype)}renderAsync(e,t){return n=this,r=void 0,i=function*(){let n=null;if(0==this.length)e.setRendered();else{var r=e.rowType,o=this.filter((n=>{var o=n.RelatedRows.some((e=>F.Z.Equal(e,t))),i=n.RowType==l.A$.NotSet||n.RowType==r,s=null==n.Levels||n.Levels.some((t=>e.Levels.some((e=>e==t))));return o&&i&&s}))[0];if(o){const[r,i,s]=yield e.getRenderedResultAsync(t);if(s)n=s;else{const s=yield o.template.getValueAsync(t),c=$bc.util.toHTMLElement(s);n=e.factory(r,i,c)}e.setRendered()}else e.setIgnored()}return n},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{a(i.next(e))}catch(e){t(e)}}function c(e){try{a(i.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((i=i.apply(n,r||[])).next())}));var n,r,o,i}}class W{constructor(e,t,n){this.Level=e.GetStringToken("level",t),this.RowType=e.GetStringToken("rowtype",t),this.Filter=e.GetStringToken("filter",t),this.Template=e.getXMLTemplate(),n&&(this.Template=F.Z.ReplaceEx(this.Template,"@child",`<basis-core-template-tag data-type="${n}"></basis-core-template-tag>`))}}class H{constructor(e,t){this.rawExpression=e,this.reservedKeys=t}getValueAsync(e){var t,n;if(!this.getValue)try{this.getValue=new Function("$functionArgumentData",`${null!==(n=null===(t=this.reservedKeys)||void 0===t?void 0:t.map((e=>`const ${e} = '@${e}'`)).join(";"))&&void 0!==n?n:""}\n          ${Object.getOwnPropertyNames(e).map((e=>`const ${e} = $functionArgumentData["${e}"]`)).join(";")}\n            return ${this.rawExpression};`)}catch(e){throw console.error(`Error in create binding expression for '${this.rawExpression}'`,e),e}return Promise.resolve(this.getValue(e))}}class G{constructor(e){this.content=e}getValueAsync(e){return Promise.resolve(this.content)}}var z=__webpack_require__(827);class X{constructor(e,t){this.token=new z.Z(e,t)}getValueAsync(e){return t=this,n=void 0,o=function*(){const t=yield this.token.executeAsync(e);return"string"!=typeof t?`${t}`:t},new((r=void 0)||(r=Promise))((function(e,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function c(e){try{a(o.throw(e))}catch(e){i(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,c)}a((o=o.apply(t,n||[])).next())}));var t,n,r,o}}class J{constructor(e,t,n){this.contents=new Array,this.context=e,this.template=t,this.reservedKeys=n,t&&this.extractContents()}extractContents(){var e,t,n;const r=this.context.options.getDefault("binding.face-regex"),o=this.context.options.getDefault("binding.codeblock-regex"),i=new RegExp(`${r.source}|${o.source}`,"gi");let s,c=0;for(;null!==(s=i.exec(this.template));){const r=s[0],o=s[1],i=s.index+(null!==(e=null==o?void 0:o.length)&&void 0!==e?e:0);c!=i&&this.contents.push(new G(this.template.slice(c,i))),c=i+r.length;const a=null!==(t=s[2])&&void 0!==t?t:s[3];if(a)this.contents.push(new H(a,this.reservedKeys)),c-=null!==(n=null==o?void 0:o.length)&&void 0!==n?n:0;else{const e=s[4];this.contents.push(new X(e,this.context))}}c!=this.template.length&&this.contents.push(new G(this.template.slice(c)))}getValueAsync(e){return t=this,n=void 0,o=function*(){const t=this.contents.map((t=>t.getValueAsync(e)));return(yield Promise.all(t)).reduce(((e,t)=>e+t),"")},new((r=void 0)||(r=Promise))((function(e,i){function s(e){try{a(o.next(e))}catch(e){i(e)}}function c(e){try{a(o.throw(e))}catch(e){i(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,c)}a((o=o.apply(t,n||[])).next())}));var t,n,r,o}}var Q=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class Y extends Array{static Create(e,t,n){var r=new Y;return e.querySelectorAll("face").forEach((e=>r.push(new W(e,t,n)))),r}processAsync(e,t,n){return Q(this,void 0,void 0,(function*(){var r=this.map((r=>Q(this,void 0,void 0,(function*(){var o,i,s,c,a=yield this.GetRowTypeAsync(r.RowType),u=null!==(s=null===(i=yield null===(o=r.Level)||void 0===o?void 0:o.getValueAsync())||void 0===i?void 0:i.split("|"))&&void 0!==s?s:null,l=yield null===(c=r.Filter)||void 0===c?void 0:c.getValueAsync();return{RowType:a,Levels:u,RelatedRows:F.Z.IsNullOrEmpty(l)?e.rows:yield $bc.util.source.filterAsync(e,l,t),template:new J(t,r.Template,n)}})))),o=yield Promise.all(r);return new K(...o)}))}GetRowTypeAsync(e){return Q(this,void 0,void 0,(function*(){var t=l.A$.NotSet,n=yield null==e?void 0:e.getValueAsync();if(n){var r=Object.getOwnPropertyNames(l.A$).filter((e=>F.Z.isEqual(e,n)));t=1==r.length?l.A$[r[0]]:l.A$.NotSet}return t}))}}class ee{constructor(e,t,n,r){this.source=e,this.renderResultRepository=t,this.factory=n,this.groupName=r,this._renderedCount=0}get rowType(){return this._renderedCount%2==0?l.A$.Even:l.A$.Odd}getRenderedResultAsync(e){var t,n,r,o,i;return n=this,r=void 0,i=function*(){const n=this.getKeyValue(e),r=this.source.getVersion(e);let o=null===(t=this.renderResultRepository)||void 0===t?void 0:t.get(n,this.groupName);return o&&r!==o.version&&(o=null),[n,r,o]},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{a(i.next(e))}catch(e){t(e)}}function c(e){try{a(i.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((i=i.apply(n,r||[])).next())}))}getKeyValue(e){return this.source.keyFieldName?Reflect.get(e,this.source.keyFieldName):e}setLevel(e){this.Levels=e}setRendered(){this._renderedCount++}setIgnored(){this._renderedCount--}}var te=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class ne extends g{constructor(e,t,n,r){super(e,t),this.container=n,this.reservedKeys=r}renderSourceAsync(e){return te(this,void 0,void 0,(function*(){let t;if(e.rows){var n=Y.Create(this.node,this.context,this.reservedKeys?this.reservedKeys[0]:null),r=yield n.processAsync(e,this.context,this.reservedKeys);const o=yield this.renderDataPartAsync(e,r);this.renderResultRepository=o.repository,t=o.result}return yield this.createContentAsync(t)}))}createContentAsync(e){var t,n;return te(this,void 0,void 0,(function*(){const r=new DocumentFragment;if((null==e?void 0:e.length)>0){const n=null===(t=this.node.querySelector("layout"))||void 0===t?void 0:t.GetXMLTemplateToken(this.context);let o=yield null==n?void 0:n.getValueAsync();if(o){const t=Date.now().toString(36);o=F.Z.ReplaceEx(o,"@child",`<basis-core-template-child-tag id="${t}"></basis-core-template-child-tag>`),this.appendTemplateToDoc(o,r);const n=r.querySelector(`basis-core-template-child-tag#${t}`);if(n){const t=new Range;t.selectNode(n),t.deleteContents(),e.forEach((e=>e.AppendTo(t)))}else this.context.logger.logWarning("@child place holder not found in layout template")}else e.forEach((e=>e.AppendTo(r)))}else{var o=null===(n=this.node.querySelector("else-layout"))||void 0===n?void 0:n.GetXMLTemplateToken(this.context);const e=yield null==o?void 0:o.getValueAsync();e&&this.appendTemplateToDoc(e,r)}const i=Array.from(r.childNodes);return this.setContent(r,!1),i}))}renderDataPartAsync(e,t){return te(this,void 0,void 0,(function*(){const n=new ee(e,this.renderResultRepository,((e,t,n)=>new Z(e,t,n))),r=new U,o=new Array;for(const i of e.rows){const e=yield t.renderAsync(n,i);e&&(r.set(e.key,e),o.push(e))}return new B(o,r)}))}appendTemplateToDoc(e,t){const n=$bc.util.toHTMLElement(e);"parsererror"!==n.nodeName?Array.from(n.childNodes).forEach((e=>t.appendChild(e))):t.appendChild(n)}}var re=function(e,t){return function(n,r){t(n,r,e)}};let oe=class extends ne{constructor(e,t,n){super(e,t,n)}createContentAsync(e){const t=Object.create(null,{createContentAsync:{get:()=>super.createContentAsync}});var n,r,o,i,s,c,a,u,l,f;return a=this,u=void 0,f=function*(){let a=null;const u=this.node.querySelector("divider");if(u&&(null==e?void 0:e.length)>0){const t=yield null===(n=null==u?void 0:u.GetTemplateToken(this.context))||void 0===n?void 0:n.getValueAsync(),l=yield null===(r=null==u?void 0:u.GetIntegerToken("rowcount",this.context))||void 0===r?void 0:r.getValueAsync(),f=yield null===(i=null===(o=this.node.querySelector("incomplete"))||void 0===o?void 0:o.GetXMLTemplateToken(this.context))||void 0===i?void 0:i.getValueAsync(),d=f?$bc.util.toHTMLElement(f):document.createElement("div");let h="";const p=Date.now().toString(36);let y,_=l;for(e.forEach((e=>{h+=`<basis-core-template-list-item-tag data-type="${p}"></basis-core-template-list-item-tag>`,_--,0==_&&(h+=t,_=l)}));_>0&&_<l;){h+=`<basis-core-template-list-item-tag data-type="${p}"></basis-core-template-list-item-tag>`;const t=new Z(null,0,d.cloneNode(!0));e.push(t),_--}let v=yield null===(c=null===(s=this.node.querySelector("layout"))||void 0===s?void 0:s.GetXMLTemplateToken(this.context))||void 0===c?void 0:c.getValueAsync();v?(v=F.Z.ReplaceEx(v,"@child",h),y=new DocumentFragment,Array.from($bc.util.toNode(v).firstChild.childNodes).forEach((e=>y.appendChild(e)))):y=$bc.util.toNode(h);const g=Array.from(y.querySelectorAll(`basis-core-template-list-item-tag[data-type="${p}"]`));_=0,e.forEach((e=>{const t=new Range;t.selectNode(g[_++]),t.deleteContents(),e.AppendTo(t)})),a=Array.from(y.childNodes),this.setContent(y,!1)}else a=yield t.createContentAsync.call(this,e);return a},new((l=void 0)||(l=Promise))((function(e,t){function n(e){try{o(f.next(e))}catch(e){t(e)}}function r(e){try{o(f.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof l?o:new l((function(e){e(o)}))).then(n,r)}o((f=f.apply(a,u||[])).next())}))}};oe=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),re(0,(0,e.f3)("element")),re(1,(0,e.f3)("context")),re(2,(0,e.f3)("container")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Element,Object,Object])],oe);const ie=oe;var se=function(e,t){return function(n,r){t(n,r,e)}};let ce=class extends ne{constructor(e,t,n){super(e,t,n)}};ce=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),se(0,(0,e.f3)("element")),se(1,(0,e.f3)("context")),se(2,(0,e.f3)("container")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Element,Object,Object])],ce);const ae=ce;class ue{static ApplySimpleFilter(e,t,n){return"string"==typeof n&&n.isEqual("null")?e.filter((e=>null===e[t])):e.filter((e=>e[t]==n))}static addRowNumber(e){var t=1;e.forEach((e=>{e.rownumber=t++}))}}class le extends Z{constructor(e,t,n){super(e,t,n),this.contentNodes=null;const r=n.querySelector('basis-core-template-tag[data-type="child"]');r&&(this.contentRange=new Range,this.contentRange.selectNode(r),this.contentRange.deleteContents())}setContent(e){var t,n,r;if(this.contentRange){const o=this.contentNodes;(null==o?void 0:o.length)>0&&(this.contentRange.detach(),this.contentRange=new Range,this.contentRange.setStartBefore(o[0]),this.contentRange.setEndAfter(o[o.length-1]),null===(t=this.contentRange)||void 0===t||t.deleteContents()),e?(this.contentNodes=[...e.childNodes],null===(n=this.contentRange)||void 0===n||n.insertNode(e)):(null===(r=this.contentRange)||void 0===r||r.deleteContents(),this.contentNodes=null)}}}var fe=function(e,t){return function(n,r){t(n,r,e)}},de=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};let he=class extends ne{constructor(e,t,n){super(e,t,n,["child"])}FaceRenderResultFactory(e,t,n){return new le(e,t,n)}renderDataPartAsync(e,t){return de(this,void 0,void 0,(function*(){const n=new U;if(0!=e.rows.length){var r=yield this.getAttributeValueAsync("parentidcol","parentid"),o=yield this.getAttributeValueAsync("idcol","id"),i=yield this.getAttributeValueAsync("nullvalue","0"),s=ue.ApplySimpleFilter(e.rows,r,i);if(0==s.length)throw new Error(`Tree command has no root record in data member '${e.id}' with '${i}' value in '${r}' column that set in NullValue attribute.`);var c=new ee(e,this.renderResultRepository,((e,t,n)=>new le(e,t,n))),a=new Array;for(const i of s){const s=yield this.renderLevelAsync(e,c,1,t,o,r,n,i);a.push(s)}return new B(a,n)}}))}renderLevelAsync(e,t,n,r,o,i,s,c){return de(this,void 0,void 0,(function*(){var a=this.range.createContextualFragment(" ");const u=ue.ApplySimpleFilter(e.rows,i,c[o]);t.setLevel(0!=u.length?[`${n}`]:[`${n}`,"end"]);const l=yield r.renderAsync(t,c);if(l){if(s.set(l.key,l),l.setContent(null),0!=u.length){var f=n+1;const t=new ee(e,this.renderResultRepository,((e,t,n)=>new le(e,t,n)));for(const n of u)(yield this.renderLevelAsync(e,t,f,r,o,i,s,n)).AppendTo(a)}l.setContent(a)}return l}))}};he=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),fe(0,(0,e.f3)("element")),fe(1,(0,e.f3)("context")),fe(2,(0,e.f3)("container")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Element,Object,Object])],he);const pe=he;var ye=__webpack_require__(535),_e=function(e,t){return function(n,r){t(n,r,e)}};let ve=class extends ne{constructor(e,t,n){super(e,t,n,["child"])}renderDataPartAsync(e,t){return n=this,r=void 0,i=function*(){const n=new U;if(0!=e.rows.length){const i=this.getAttributeToken("groupcol"),s=(yield ye.Z.GetValueOrSystemDefaultAsync(i,this.context,"ViewCommand.GroupColumn")).toLowerCase(),c=e.rows.map((e=>e[s])).filter(((e,t,n)=>n.indexOf(e)===t)),a=new ee(e,this.renderResultRepository,((e,t,n)=>new le(e,t,n)),"root");a.setLevel(["1"]);var r=new Array;for(const i of c){const c=ue.ApplySimpleFilter(e.rows,s,i),u=c[0],l=yield t.renderAsync(a,u);if(l){n.set(l.key,l,"root"),l.setContent(null);const i=new ee(e,this.renderResultRepository,((e,t,n)=>new le(e,t,n)));i.setLevel(["2"]);var o=this.range.createContextualFragment(" ");for(const e of c){const r=yield t.renderAsync(i,e);n.set(r.key,r),r.AppendTo(o)}l.setContent(o),r.push(l)}}}return new B(r,n)},new((o=void 0)||(o=Promise))((function(e,t){function s(e){try{a(i.next(e))}catch(e){t(e)}}function c(e){try{a(i.throw(e))}catch(e){t(e)}}function a(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,c)}a((i=i.apply(n,r||[])).next())}));var n,r,o,i}};ve=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),_e(0,(0,e.f3)("element")),_e(1,(0,e.f3)("context")),_e(2,(0,e.f3)("container")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Element,Object,Object])],ve);const ge=ve;var me=__webpack_require__(231),be=__webpack_require__(877);class we extends f.Z{constructor(e,t){super(e,t),this.priority=l.UL.normal}}var Ae=function(e,t){return function(n,r){t(n,r,e)}};let xe=class extends we{constructor(e,t){super(e,t),this.urlToken=this.getAttributeToken("url"),this.methodToken=this.getAttributeToken("method"),this.bodyToken=this.getAttributeToken("body"),this.nameToken=this.getAttributeToken("name")}runAsync(){var e,t,n,r,o,i,s,c,a,u;return s=this,c=void 0,u=function*(){const s=null===(t=yield null===(e=this.methodToken)||void 0===e?void 0:e.getValueAsync())||void 0===t?void 0:t.toUpperCase(),c=yield null===(n=this.urlToken)||void 0===n?void 0:n.getValueAsync();let a;const u=yield null===(r=this.bodyToken)||void 0===r?void 0:r.getValueAsync(),l=new Request(c,{method:s,headers:{"Content-Type":"application/json"},body:u});if(this.onProcessingAsync){const e=this.createCallbackArgument({request:l});yield this.onProcessingAsync(e),e.response&&(a=yield e.response)}let f;if(a||(a=yield fetch(l)),this.onProcessedAsync){const e=this.createCallbackArgument({request:l,response:a});yield this.onProcessedAsync(e),f=e.results}else{const e=yield a.json();if("object"==typeof(null==e?void 0:e.sources))f=Object.keys(null==e?void 0:e.sources).map((t=>({key:t,data:e.sources[t]}))).map((e=>new me.Z(e.key,e.data.data,e.data.options)));else{const t=null!==(i=yield null===(o=this.nameToken)||void 0===o?void 0:o.getValueAsync())&&void 0!==i?i:"cms.api";f=[new me.Z(t,e)]}}null==f||f.forEach((e=>{const t=new be.Z(e.id,e.rows,e.options);this.context.setSource(t)}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(n,r)}o((u=u.apply(s,c||[])).next())}))}};xe=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),Ae(0,(0,e.f3)("element")),Ae(1,(0,e.f3)("context")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Element,Object])],xe);const Oe=xe;var Te=__webpack_require__(242);class Ee extends class{constructor(e,t){this.context=t,this.element=e,this.name=e.getAttribute("name"),this.previewToken=e.GetBooleanToken("preview",t),this.sortToken=e.GetStringToken("sort",t),this.postSqlToken=e.GetStringToken("postsql",t),this.rawContentToken=e.textContent.ToStringToken(t)}addDataSourceAsync(e,t,n){var r,o,i,s,c,a,u;return s=this,c=void 0,u=function*(){var s=null===(r=this.postSqlToken)||void 0===r?void 0:r.getValueAsync(),c=null===(o=this.sortToken)||void 0===o?void 0:o.getValueAsync(),a=null===(i=this.previewToken)||void 0===i?void 0:i.getValueAsync();const u=`${t}.${this.name}`.toLowerCase(),l=yield a,f=yield c,d=yield s;var h;d&&(F.Z.HasValue(h)||(h=yield this.context.getOrLoadDbLibAsync()),e=h(F.Z.ReplaceEx(d,`\\[${u}\\]`,"?"),[e])),f&&(F.Z.HasValue(h)||(h=yield this.context.getOrLoadDbLibAsync()),e=h(`SELECT * FROM ? order by ${f}`,[e])),ue.addRowNumber(e);const p=new be.Z(u,e,n);this.context.setSource(p,l)},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{o(u.next(e))}catch(e){t(e)}}function r(e){try{o(u.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof a?o:new a((function(e){e(o)}))).then(n,r)}o((u=u.apply(s,c||[])).next())}))}}{constructor(e,t){super(e,t)}}var ke=__webpack_require__(479),Re=__webpack_require__(314),Ce=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};class je extends we{constructor(e,t){super(e,t),this.allowMultiProcess=!0,this.members=[...this.node.querySelectorAll("member")]}initializeAsync(){const e=Object.create(null,{initializeAsync:{get:()=>super.initializeAsync}});return Ce(this,void 0,void 0,(function*(){yield e.initializeAsync.call(this),this.id=yield this.getAttributeValueAsync("name")}))}runAsync(){return Ce(this,void 0,void 0,(function*(){this.oldConnectionName=null,this.members.length>0&&(yield this.loadDataAsync())}))}processLoadedDataSet(e){if(!this.disposed){const t=this.members.map((e=>this.convertToMemberObject(e)));if(t.length!=e.length)throw new Error(`Command '${this.id}' has ${t.length} member(s) but ${e.length} result(s) returned from source!`);t.forEach(((t,n)=>Ce(this,void 0,void 0,(function*(){const r=e[n];yield t.addDataSourceAsync(r.rows,this.id,r.options)}))))}return!this.disposed}loadDataAsync(){return Ce(this,void 0,void 0,(function*(){const e=yield this.getAttributeValueAsync("source");if(this.oldConnectionName){if(this.oldConnectionName!==e)throw new ke.Z(`Source Attribute Can't Change in Existing Context. Valid Connection Is '${this.oldConnectionName}'`)}else this.oldConnectionName=e;const t=this.node.outerHTML.ToStringToken(this.context),n={command:yield t.getValueAsync(),dmnid:this.context.options.getDefault("dmnid")},r=this.context.loadDataAsync(this.id,e,n,this.processLoadedDataSet.bind(this));r instanceof Re.Z||(yield r)}))}}var Pe=function(e,t){return function(n,r){t(n,r,e)}};let Se=class extends je{constructor(e,t){super(e,t)}convertToMemberObject(e){return new Ee(e,this.context)}};Se=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),Pe(0,(0,e.f3)("element")),Pe(1,(0,e.f3)("context")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Element,Object])],Se);const De=Se;var Le=function(e,t){return function(n,r){t(n,r,e)}},Me=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))};let Ne=class extends f.Z{constructor(e,t,n){super(e,t),this.container=n}initializeAsync(){const e=Object.create(null,{initializeAsync:{get:()=>super.initializeAsync}});return Me(this,void 0,void 0,(function*(){yield e.initializeAsync.call(this);const t=this.core.slice(this.core.indexOf(".")+1),n=yield $bc.util.getComponentAsync(this.context,t);this.manager=Reflect.construct(n,[this]),this.manager.initializeAsync&&(yield this.manager.initializeAsync())}))}runAsync(e){return this.manager.runAsync?this.manager.runAsync(e):Promise.resolve()}toNode(e){return this.range.createContextualFragment(e)}setContent(e){this.range.deleteContents(),this.range.insertNode(e)}getDefault(e,t){return this.context.options.getDefault(e,t)}getSetting(e,t){return this.context.options.getSetting(e,t)}setSource(e,t,n,r){this.context.setAsSource(e,t,n,r)}tryToGetSource(e){return this.context.tryToGetSource(e)}waitToGetSourceAsync(e){return this.context.waitToGetSourceAsync(e)}processNodesAsync(e){return Me(this,void 0,void 0,(function*(){const n=this.container.resolve(t.Z);return this.collections||(this.collections=new Array),this.collections.push(n),yield n.processNodesAsync(e),n}))}disposeAsync(){const e=Object.create(null,{disposeAsync:{get:()=>super.disposeAsync}});var t;return Me(this,void 0,void 0,(function*(){const n=null===(t=this.collections)||void 0===t?void 0:t.map((e=>e.disposeAsync()));return yield Promise.all(n),e.disposeAsync.call(this)}))}};Ne=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),Le(0,(0,e.f3)("element")),Le(1,(0,e.f3)("context")),Le(2,(0,e.f3)("container")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Element,Object,Object])],Ne);const Ve=Ne;var Ie=__webpack_require__(294),$e=function(e,t){return function(n,r){t(n,r,e)}};let qe=class extends Ie.Z{constructor(e,t,n){super(e,n,t.logger),this.owner=t,this.handler=this.owner.onDataSourceSet.Add(this.setSourceFromOwner.bind(this))}dispose(){this.owner.onDataSourceSet.Remove(this.handler)}getOrLoadDbLibAsync(){return this.owner.getOrLoadDbLibAsync()}getOrLoadObjectAsync(e,t){return this.getOrLoadObjectAsync(e,t)}loadPageAsync(e,t,n){return this.owner.loadPageAsync(e,t,n)}loadDataAsync(e,t,n,r){return this.owner.loadDataAsync(e,t,n,r)}tryToGetSource(e){var t;return null!==(t=super.tryToGetSource(e))&&void 0!==t?t:this.owner.tryToGetSource(e)}};qe=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),$e(0,(0,e.f3)("IContextRepository")),$e(1,(0,e.f3)("OwnerContext")),$e(2,(0,e.f3)("HostOptions")),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object,Ie.Z,n.G])],qe);const Fe=qe;let Ze=class{logSource(e){console.log(e),console.table(null==e?void 0:e.rows)}logError(e,t){console.error(e,t)}logInformation(e,...t){t&&t.length>0?console.info(e,t):console.info(e)}logWarning(e){console.warn(e)}};Ze=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.ri)()],Ze);const Ue=Ze;var Be=__webpack_require__(919);let Ke=class{constructor(e){this.repository=new Map,this.eventManager=new Map,this.resolves=new Map,this.logger=e}tryToGet(e){return this.repository.get(null==e?void 0:e.toLowerCase())}setSourceFromOwner(e){var t;this.repository.has(e.id)&&this.repository.delete(e.id),null===(t=this.eventManager.get(e.id))||void 0===t||t.Trigger(e),this.logger.logInformation(`${e.id} Added from owner context...`)}setSourceEx(e){const t=this.repository.get(e.id);return e.mergeType==l.dx.replace?t?t.replace(e):this.repository.set(e.id,e):e.mergeType==l.dx.append&&(t?e.keyFieldName&&t.keyFieldName?e.rows.forEach((n=>{const r=Reflect.get(n,e.keyFieldName),o=e.statusFieldName?Reflect.get(n,e.statusFieldName):l.rq.added;if(o==l.rq.added)t.addRow(n);else{const e=t.rows.findIndex((e=>Reflect.get(e,t.keyFieldName)==r));-1!==e&&(o==l.rq.deleted?t.removeRowFormIndex(e):o==l.rq.edited&&t.replaceRowFromIndex(e,n))}})):t.addRows(e.rows):this.repository.set(e.id,e)),null!=t?t:e}setSource(e,t){var n;const r=this.setSourceEx(e);return t&&this.logger.logSource(e),null===(n=this.eventManager.get(r.id))||void 0===n||n.Trigger(r),this.logger.logInformation(`${r.id} ${e===r?"Added":"Updated"}...`),r}addHandler(e,t){const n=null==e?void 0:e.toLowerCase();let r=this.eventManager.get(n);r||(r=new Be.Z,this.eventManager.set(n,r)),r.Add(t)&&this.logger.logInformation(`handler Added for ${n}...`)}removeHandler(e,t){const n=null==e?void 0:e.toLowerCase();let r=this.eventManager.get(n);r&&r.Remove(t)&&this.logger.logInformation(`handler removed for ${n}...`)}waitToGetAsync(e){return new Promise((t=>{e=null==e?void 0:e.toLowerCase(),this.logger.logInformation(`wait for ${e}`);let n=this.resolves.get(e);n||(n=new Be.Z,this.resolves.set(e,n)),n.Add(t)}))}};var We,He;Ke=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var c=e.length-1;c>=0;c--)(o=e[c])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}([(0,e.b2)(),(We=0,He=(0,e.f3)("ILogger"),function(e,t){He(e,t,We)}),function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}("design:paramtypes",[Object])],Ke);const Ge=Ke;e.nC.register("IBasisCore",{useToken:u}),e.nC.register("ILogger",{useToken:Ue}),e.nC.register("IContextRepository",{useToken:Ge}),e.nC.register("ILocalContext",{useToken:Fe}),e.nC.register("print",{useToken:ae}),e.nC.register("tree",{useToken:pe}),e.nC.register("view",{useToken:ge}),e.nC.register("list",{useToken:ie}),e.nC.register("cookie",{useToken:q}),e.nC.register("call",{useToken:y}),e.nC.register("group",{useToken:_.Z}),e.nC.register("repeater",{useToken:A}),e.nC.register("callback",{useToken:Te.Z}),e.nC.register("dbsource",{useToken:De}),e.nC.register("input",{useToken:P}),e.nC.register("select",{useToken:V}),e.nC.register("form",{useToken:R}),e.nC.register("unknown-html",{useToken:L}),e.nC.register("api",{useToken:Oe}),e.nC.register("component",{useToken:Ve}),__webpack_require__(570),Object.defineProperty(Element.prototype,"GetStringToken",{value:function(e,t){var n,r=this.getAttribute(e);return r&&(n=r.ToStringToken(t)),n},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"GetIntegerToken",{value:function(e,t){var n,r=this.getAttribute(e);return r&&(n=r.ToIntegerToken(t)),n},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"GetBooleanToken",{value:function(e,t){var n,r=this.getAttribute(e);return r&&(n=r.ToBooleanToken(t)),n},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"GetTemplateToken",{value:function(e){return 1==this.children.length&&F.Z.isEqual(this.children[0].nodeName,"script")&&F.Z.isEqual(this.children[0].getAttribute("type"),"text/template")?this.textContent.ToStringToken(e):this.innerHTML.ToStringToken(e)},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"getTemplate",{value:function(){return 1==this.children.length&&F.Z.isEqual(this.children[0].nodeName,"script")&&F.Z.isEqual(this.children[0].getAttribute("type"),"text/template")?this.textContent:this.innerHTML},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"GetXMLTemplateToken",{value:function(e){return 1==this.children.length&&F.Z.isEqual(this.children[0].nodeName,"script")&&F.Z.isEqual(this.children[0].getAttribute("type"),"text/template")?this.children[0].outerHTML.ToStringToken(e):`<basis-core-template-tag>${this.innerHTML}</basis-core-template-tag>`.ToStringToken(e)},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"getXMLTemplate",{value:function(){return 1==this.children.length&&F.Z.isEqual(this.children[0].nodeName,"script")&&F.Z.isEqual(this.children[0].getAttribute("type"),"text/template")?this.children[0].outerHTML:`<basis-core-template-tag>${this.innerHTML}</basis-core-template-tag>`},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"isBasisCore",{value:function(){try{return this.nodeType==Node.ELEMENT_NODE&&"BASIS"==this.nodeName&&F.Z.isEqual(this.getAttribute("run"),"atclient")}catch(e){return!1}},writable:!0,configurable:!0}),Object.defineProperty(Element.prototype,"isBasisTag",{value:function(){try{return this.nodeType==Node.ELEMENT_NODE&&this.hasAttribute("bc-triggers")}catch(e){return!1}},writable:!0,configurable:!0});var ze=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{a(r.next(e))}catch(e){i(e)}}function c(e){try{a(r.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,c)}a((r=r.apply(e,t||[])).next())}))},Xe=__webpack_require__(835);class Je{constructor(){this.elementList=new Array,this.hostSetting=null,this._basiscore=null,this.manager=new Be.Z}get basiscore(){return this._basiscore}addFragment(e){if(this._basiscore)throw new ke.Z("Can't add fragment for already builded bc object.");if("string"==typeof e)this.elementList.push(...document.querySelectorAll(e));else{if(!(e instanceof Element))throw new ke.Z("Invalid selector");this.elementList.push(e)}return this}setOptions(e){if(this._basiscore)throw new ke.Z("Can't set option for already builded bc object.");return this.hostSetting=e,this}run(){var t;if(0!=this.elementList.length&&!this._basiscore){const n=e.nC.createChildContainer();n.register("IHostOptions",{useValue:null!==(t=this.hostSetting)&&void 0!==t?t:{}}),n.register("root.nodes",{useValue:this.elementList}),n.register("container",{useValue:n}),this._basiscore=n.resolve("IBasisCore"),this.manager.Trigger(this._basiscore)}return this}setSource(e,t,n){return this._basiscore?this._basiscore.setSource(e,t,n):this.run(),this}}console.log("%cWelcome To BasisCore Ecosystem%c\nfollow us on https://BasisCore.com/\nversion:2.2.2"," background: yellow;color: #0078C1; font-size: 2rem; font-family: Arial; font-weight: bolder","color: #0078C1; font-size: 1rem; font-family: Arial;");const Qe=new class{constructor(){this.all=new Array,this.util=new Xe.Z}get global(){var e;return null!==(e=this._global)&&void 0!==e?e:this._global=this.new()}addFragment(e){return this.global.addFragment(e)}setOptions(e){return this.global.setOptions(e)}run(){return 0==this.global.elementList.length&&this.global.addFragment(document.documentElement),this.global.run()}setSource(e,t,n){return this.run().setSource(e,t,n)}new(){var e=new Je;return this.all.push(e),e}};window.LocalDataBase=class{constructor(e,t){this._getSchemas=t,this._dataBaseName=e}dropAsync(){return ze(this,void 0,void 0,(function*(){var e=yield this.executeAsync(`DROP localStorage DATABASE ${this._dataBaseName}`);return this._db=null,1==e}))}executeAsync(e,t){return ze(this,void 0,void 0,(function*(){return this._db||(yield this.InitializeAsync()),yield new Promise((n=>this._db.exec(e,t,(e=>n(e)))))}))}executeAsTableAsync(e,t){return ze(this,void 0,void 0,(function*(){var n,r=yield this.executeAsync(e,t);n=r.length>0?Object.getOwnPropertyNames(r[0]):[];var o=[];return r.forEach((e=>o.push(n.map((t=>e[t]))))),[n,...o]}))}InitializeAsync(){return ze(this,void 0,void 0,(function*(){if(!this._db){var e=alasql,t=e.exec(`CREATE localStorage DATABASE IF NOT EXISTS ${this._dataBaseName}`);if(e.exec(`ATTACH localStorage DATABASE ${this._dataBaseName}`),this._db=e.databases[this._dataBaseName],1==t)for(let[e,t]of this._getSchemas().entries()){var n=Object.getOwnPropertyNames(t).map((e=>`${e} ${t[e]}`)).join(",");console.log(`CREATE TABLE IF NOT EXISTS ${e} (${n})`),yield this.executeAsync(`CREATE TABLE IF NOT EXISTS ${e} (${n})`)}}}))}},__webpack_require__.g.$bc=Qe,window.MergeType=l.dx;const Ye=e=>{window.removeEventListener("load",Ye),0==Qe.all.length&&n.G.defaultSettings.autoRender&&Qe.run()};window.addEventListener("load",Ye)})()})();
//# sourceMappingURL=basiscore.min.js.map