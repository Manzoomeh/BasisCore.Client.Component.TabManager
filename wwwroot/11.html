<div class="widget_wrapper" id="myFiles">
	<style>
	   /* Tooltip container */
	
	[data-bc-table] tr td:last-child a {
		position: relative;
		display: inline-block;
	}
	
	
	
	[data-bc-table] tr td:last-child a:nth-child(1):after {
		content: "ویرایش";
		position: absolute;
		bottom: 100%;  /* At the top of the tooltip */
		left: 50%;
		margin-left: -5px;
		border-width: 5px;
		border-style: solid;
		border-color: transparent transparent black transparent;
		height: 30px;
		background: black;
		color: #fff;
		border-radius: 5px;
		opacity: 0;
		visibility: hidden;
	}
	[data-bc-table] tr td:last-child a:nth-child(2):after {
		content: "سفارشات";
		position: absolute;
		bottom: 100%;  /* At the top of the tooltip */
		left: 50%;
		margin-left: -5px;
		border-width: 5px;
		border-style: solid;
		border-color: transparent transparent black transparent;
		height: 30px;
		background: black;
		color: #fff;
		border-radius: 5px;
		opacity: 0;
		visibility: hidden;
	}
	[data-bc-table] tr td:last-child a:nth-child(3):after {
		content: "تجهیزات";
		position: absolute;
		bottom: 100%;  /* At the top of the tooltip */
		left: 50%;
		margin-left: -5px;
		border-width: 5px;
		border-style: solid;
		border-color: transparent transparent black transparent;
		height: 30px;
		background: black;
		color: #fff;
		border-radius: 5px;
		opacity: 0;
		visibility: hidden;
	}
	
	/* Show the tooltip text when you mouse over the tooltip container */
	[data-bc-table] tr td:last-child a:hover:after {
		visibility: visible;    
		/* Fade in */
		opacity: 1;
	}
	.icon-fastfood:before {
	  content: "\ec62";
	}
	 /* sample form */
	 .sample-form {
				font-size: 14px;
				color: #333;
			}
	
			.sample-form input , .sample-form textarea , .sample-form select  {
				font-size: 12px;
				color: #333;
				padding: 5px;
				margin-right: 5px;
				text-align: right;
				direction: ltr;
				width: calc(100% - 70px);
				min-height: 30px;
				position: relative;
				direction: rtl;
				background: #F5F8F9;
				border: 1px solid #C7D6DB;
				border-radius: 3px;
				transition: border 0.3s linear 0s;
			}
			.sample-form textarea  {
	
				min-height: 100px;
	
			}
	
			.sample-form input:focus ,.sample-form textarea:focus {
				background: #fff8ee;
				border-color: #66afe9;
				box-shadow: 0 1px 1px rgba(0, 0, 0, 0.075) inset, 0 0 8px rgba(102, 175, 233, 0.6);
				outline: 0 none;
			}
	
			.sample-form .submitForm {
				border: none;
				cursor: pointer;
				height: 30px;
				width: 70px;
				border-radius: 3px;
				border: 1px solid #4d576e;
				background: #4d576e;
				color: #fff;
				text-align: center;
				font-size: 13px;
				display: inline-block;
				margin-top: 10px;
			}
	
			.sample-form .drop-down-mime {
				font-size: 13px;
				display: none;
				margin: 0 auto;
				text-align: justify;
				direction: ltr;
				padding: 5px 0 0 80px;
				color: #3687cc;
			}
	
			.sample-form-box {
				display: flex;
				margin-top: 5px;
				flex-direction: row;
				justify-content: space-between;
				line-height: 30px;
				direction: rtl;
	text-align: right;
			}
			* {
		padding: 0;
		margin: 0;
		box-sizing: border-box;
		font-size: 14px;
		font-family: "IRANSansWeb";
		direction: rtl;
		color: #212121;
		border-collapse: collapse;
	}
	
	
	
	/* The Modal */
	.modal {
		display: none;
		position: fixed;
		z-index: 1;
		padding-top: 100px;
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		overflow: auto;
		background-color: rgb(0, 0, 0);
		background-color: rgba(0, 0, 0, 0.4);
	}
	
	.modal-background {
		position: absolute;
		left: 0;
		right: 0;
		top: 0;
		bottom: 0;
		cursor: default;
		background-color: transparent;
	}
	
	/* Modal Content */
	.modal-content {
		position: relative;
		background-color: #fbfdff;
		text-align: left;
		margin: auto;
		padding: 0;
		border: 1px solid #888;
		border-radius: 6px;
		width: 500px;
		box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
		-webkit-animation-name: animatetop;
		-webkit-animation-duration: 0.4s;
		animation-name: animatetop;
		animation-duration: 0.4s;
	}
	
	/* Add Animation */
	@-webkit-keyframes animatetop {
		from {
			top: -300px;
			opacity: 0
		}
	
		to {
			top: 0;
			opacity: 1
		}
	}
	
	@keyframes animatetop {
		from {
			top: -300px;
			opacity: 0
		}
	
		to {
			top: 0;
			opacity: 1
		}
	}
	
	/* modal-title */
	.modal-title {
		width: 100%;
		background: #4d576e;
		color: #fff;
		display: flex;
		justify-content: space-between;
		direction: rtl;
		padding: 10px 10px;
		box-sizing: border-box;
		border-top-right-radius: 5px;
		border-top-left-radius: 5px;
		border-top-left-radius: 5px;
		height: 40px;
		align-items: center;
	}
	
	.modal-title span {
		color: #fff;
	}
	
	.modal-title .close {
		color: white;
		float: left;
		font-size: 28px;
		font-weight: bold;
	}
	
	.modal-title .close:hover,
	.modal-title .close:focus {
		color: #bcbcbc;
		text-decoration: none;
		cursor: pointer;
	}
	
	/* modal-body */
	.modal-body {
		padding: 15px 15px;
	}
	.widget_buttons{display: flex; direction: ltr;}
	</style>
	
	
	
		<div class="widget_title">
			<span>تجهیزات</span>
			<div class="widget_buttons">
				<span class="delete_widget">
					<i class="lni lni-close"></i>
				</span>
				<div class="new-supplier-btn" >
					<div class="widgetBtn" onclick="supplierNew()">  
					<i class="lni lni-plus"></i>  تعریف تجهیزات جدید
					</div>
					</div>
				<div class="new-supplier-btn" >
					<div class="widgetBtn" onclick="supplierNew()">  
					<i class="lni lni-list"></i>  لیست فروشگاه‌ها  
					</div>
					</div>
			</div>
		   
		</div>
		<div class="widget_body section-2">
	   
			<basis core="dbsource" source="fingerfoodapi" name="db" run="atclient" cache="refresh">
				<member request="accessories_list" type="list" name="accessories_list" preview=""></member>
			</basis>
			<basis core="dbsource" source="fingerfoodapi" name="db" run="atclient" cache="refresh">
				<member request="brand_list" type="list" name="brand_list" preview=""></member>
			</basis>
			<div class="supplier_resize">
			<Basis core="component.bc.grid" run="atclient" datamembername="db.accessories_list" options-object="options"></Basis>
		</div>
		<div id="editModal" class="modal">
			<div class="modal-background" onclick="hideModal('editModal')"></div>
			<div class="modal-content">
				<div class="modal-title">
					<span>فرم تعریف تجهیزات جدید</span>
					<span id="modalClose" class="close no-select" onclick="hideModal('editModal')">×</span>
				</div>
				<div class="modal-body">
					<form class="sample-form" bc-triggers="submit"  name="cms.form"  autocomplete="off">
					   
						<div class="sample-form-box">
							<span> برند : </span>
							<basis core="print" datamembername="db.brand_list" run="atclient">
								<layout>
									<select name="brand">@child@</select>
								</layout>
								<face>
									<option value="@id@" >@title@</option>
								</face>
							</basis>
						
						</div>
						<div class="sample-form-box">
							<span>مدل  : </span>
							<input type="text" name="brand" value="" />
						</div>
						
					
						<input type="submit" class="submitForm" value="ذخیره" />
						<div id="message" class="message">
							<basis core="print" datamembername="db.save_supplier" run="atclient">
								<face>
									<script type="text/template">
									تجهیزات جدید با موفقیت اضافه شد.
								</script>
								</face987>
							</basis>
						</div>
						<div class="clr"></div>
					</form>
				</div>
			</div>
		</div>
		<basis core="dbsource" source="fingerfoodapi" name="db" run="atclient" cache="refresh" title="[##cms.form.title##]" brand="[##cms.form.brand##]" 
		phone="[##cms.form.phone##]" description="[##cms.form.title##]" triggers="cms.form" if="[##cms.form1.value##]">
			<member request="save_supplier" type="scalar" name="save_supplier" preview=""></member>
		</basis>
		<basis core="callback" triggers="cms.form"  run="AtClient" ></basis>
	  
	
	
			</div>
		   
			<script>
			   $bc.setSource("cms.form1" , false)
							var host = {
								repositories: {
									"bc.grid": "/dist/basiscore.grid.component.js"
								}
							 
							}
						 
							const options = {
								columns: {
									rownumber : "ردیف" , 
									id: {
										title: "کد تجهیزات	",
										
									},
									brand: {
										title: "برند",
										sort : true                        
									},
									model: "مدل",
									action: {
										title: "عملیات",
										actions: [
											{
												label: "edit",
												action: onClickRowEditBtn,
												iconClass: "lni lni-pencil-alt",
											}
										]
									}
				
								},
							   
								defaultSort: {
									name: "count"
								},
								pageSize: [20]
							};
							function onClickRowEditBtn(data, tr){
								console.log(data, tr);
								$bc.setSource("list.accessories",data.id)
						   
							}
							function supplierNew() {            
							showModal("editModal");
							$bc.setSource("cms.form1" , true)
						}
						</script>
				  <script>
					function showModal(id) {
						let modal_wrapper = document.getElementById(id);
						modal_wrapper.style.display = "block";
					}
				
					function hideModal(id) {
						let modal_el = document.getElementById(id);
						modal_el.style.display = "none";
					}
				</script>
		</div>